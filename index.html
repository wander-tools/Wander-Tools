<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="favicon.png" sizes="32x32" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wander Tools - Free Online Tools: PDF Converter, Image Tools, SEO Tools</title>
    <meta name="description" content="Free online tools all in one place. Convert PDF to Word, resize images, remove backgrounds, compress files, SEO tools, currency converter and more. Your complete online toolkit.">
    <meta name="keywords" content="wander tools, pdf converter, image converter, all in one tools, background remover, image compressor, image resizer, pdf to word, word to pdf, image to pdf, seo tools, currency exchange rate, free online tools, file converter, web tools, developer tools, text tools, color tools">
    <meta name="author" content="Wander Tools">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://wander.tools.site">
    <meta property="og:title" content="Wander Tools - Your Complete Online Toolkit">
    <meta property="og:description" content="Free online tools all in one place. Convert, calculate, compress, and simplify your everyday tasks.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wander.tools.site">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --gray-color: #6c757d;
            --success-color: #4bb543;
            --danger-color: #ff3333;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --footer-bg: #212529;
            --footer-text: #f8f9fa;
        }

        [data-theme="dark"] {
            --primary-color: #4895ef;
            --secondary-color: #4361ee;
            --light-color: #121212;
            --dark-color: #e9ecef;
            --gray-color: #adb5bd;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            --footer-bg: #121416;
            --footer-text: #e9ecef;
        }

        [data-theme="dark"] .tool-card {
            background-color: rgb(30, 30, 30);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
            transition: var(--transition);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 1.5rem 0;
            box-shadow: var(--box-shadow);
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i {
            font-size: 2rem;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .nav-links {
            display: flex;
            gap: 25px;
            align-items: center;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 8px 0;
            position: relative;
        }
        
        .nav-links a:hover {
            opacity: 0.9;
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: white;
            transition: var(--transition);
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .contact-info {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 2rem 0;
        }
        
        .header-content h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            max-width: 700px;
            line-height: 1.3;
        }
        
        .header-content p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            max-width: 700px;
            opacity: 0.9;
            line-height: 1.5;
        }
        
        .header-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .cta-button {
            display: inline-block;
            padding: 12px 30px;
            background-color: white;
            color: var(--primary-color);
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }
        
        .download-button {
            display: inline-block;
            padding: 12px 30px;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .download-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        .header-search-container {
            margin-top: 2.5rem;
            width: 100%;
            max-width: 600px;
            position: relative;
            color: rgb(180, 192, 202);
        }
        
        .header-search-bar {
            width: 100%;
            padding: 15px 20px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .header-search-bar:focus {
            outline: none;
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.3);
            transform: scale(1.02);
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-color);
            font-size: 1.2rem;
            transition: var(--transition);
        }
        
        .header-search-bar:focus + .search-icon {
            color: var(--primary-color);
            transform: translateY(-50%) scale(1.1);
        }

        /* Theme Toggle */
        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            margin-left: 20px;
            padding: 8px 12px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            transform: rotate(30deg);
            background: rgba(255, 255, 255, 0.3);
        }

        /* Email Link */
        .email-link {
            color: white;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .email-link:hover {
            text-decoration: underline;
        }

        /* Dropdown Menu - Fixed for dark mode */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-button {
            color: white;
            background: none;
            border: none;
            font-weight: 500;
            cursor: pointer;
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: var(--border-radius);
            overflow: hidden;
            top: 100%;
            left: 0;
            background-color: white;
        }

        [data-theme="dark"] .dropdown-content {
            background-color: #2d2d2d;
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
        }

        .dropdown-content a {
            color: var(--dark-color);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: var(--transition);
            font-size: 0.9rem;
            background-color: white;
        }

        [data-theme="dark"] .dropdown-content a {
            color: #e9ecef;
            background-color: #2d2d2d;
        }

        .dropdown-content a:hover {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
        }

        [data-theme="dark"] .dropdown-content a:hover {
            background-color: rgba(72, 149, 239, 0.2);
            color: var(--primary-color);
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        /* Auth/Profile Dropdown */
        .auth-area { display: flex; align-items: center; gap: 10px; }
        .auth-buttons { display: flex; gap: 10px; }
        .auth-button { background-color: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 8px 14px; border-radius: 20px; cursor: pointer; transition: var(--transition); font-weight: 600; }
        .auth-button:hover { background-color: rgba(255,255,255,0.3); transform: translateY(-2px); }
        /* Distinct styles for Login vs Sign Up */
        #openLogin { background-color: #ffffff; color: var(--primary-color); border-color: transparent; }
        #openLogin:hover { background-color: #eef2ff; }
        #openSignUp { background-color: var(--secondary-color); color: #ffffff; border-color: rgba(255,255,255,0.15); }
        #openSignUp:hover { background-color: var(--primary-color); }
        .profile { position: relative; }
        .profile-toggle { display: flex; align-items: center; gap: 10px; background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 8px 14px; border-radius: 22px; cursor: pointer; }
        .profile-toggle .fa-user-circle { font-size: 1.35rem; }
        .profile-avatar { width: 22px; height: 22px; border-radius: 50%; object-fit: cover; display: inline-block; }
        .profile-menu { position: absolute; top: 110%; right: 0; background: white; border-radius: var(--border-radius); box-shadow: var(--box-shadow); display: none; min-width: 180px; overflow: hidden; z-index: 100; }
        [data-theme="dark"] .profile-menu { background: #2d2d2d; }
        .profile-menu a, .profile-menu button { display: block; width: 100%; text-align: left; padding: 10px 14px; border: none; background: transparent; cursor: pointer; color: var(--dark-color); text-decoration: none; }
        [data-theme="dark"] .profile-menu a, [data-theme="dark"] .profile-menu button { color: #e9ecef; }
        .profile-menu a:hover, .profile-menu button:hover { background-color: rgba(67,97,238,0.1); color: var(--primary-color); }

        /* Download Apps Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: var(--light-color);
            margin: 10% auto;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 90%;
            max-width: 500px;
            position: relative;
            animation: modalopen 0.3s;
        }

        @keyframes modalopen {
            from {opacity: 0; transform: translateY(-50px);} 
            to {opacity: 1; transform: translateY(0);} 
        }

        .close-button {
            color: var(--gray-color);
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }

        .close-button:hover {
            color: var(--dark-color);
        }

        .modal-title {
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .download-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .download-option {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: rgba(67, 97, 238, 0.1);
            border-radius: var(--border-radius);
            transition: var(--transition);
            cursor: pointer;
            text-decoration: none;
            color: var(--dark-color);
        }

        .download-option:hover {
            background-color: rgba(67, 97, 238, 0.2);
            transform: translateX(5px);
        }

        .download-option i {
            margin-right: 15px;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .download-option span {
            font-weight: 500;
        }

        /* Embedded Auth Card (scoped) */
        .auth-card { width: 100%; max-width: 520px; background: white; border-radius: 16px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); overflow: hidden; margin: 5% auto; }
        [data-theme="dark"] .auth-card { background: rgb(30,30,30); border: 1px solid #444; }
        .auth-header { background: #4a6bff; color: #fff; padding: 18px 20px; position: relative; text-align: center; }
        .auth-header .logo { width: 60px; height: 60px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .auth-header .logo i { color: #4a6bff; font-size: 28px; }
        .auth-body { padding: 20px; }
        .auth-input { width: 100%; padding: 12px 14px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; transition: all 0.3s; background: white; color: #333; }
        [data-theme="dark"] .auth-input { background: #333; border-color: #555; color: #eee; }
        .auth-input:focus { border-color: #4a6bff; outline: none; box-shadow: 0 0 0 3px rgba(74,107,255,0.2); }
        .auth-group { margin-bottom: 16px; }
        .auth-label { display: block; margin-bottom: 6px; font-weight: 500; }
        .auth-btn { width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .auth-btn-primary { background: #4a6bff; color: #fff; }
        .auth-btn-primary:hover { background: #3a5be0; transform: translateY(-2px); }
        /* Google buttons styled to match theme */
        .auth-btn-google { 
            background: rgba(67, 97, 238, 0.10);
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }
        .auth-btn-google i { color: inherit; }
        .auth-btn-google:hover { 
            background: var(--primary-color); 
            color: #fff; 
            transform: translateY(-2px);
        }
        [data-theme="dark"] .auth-btn-google { 
            background: rgba(72, 149, 239, 0.18);
            color: var(--primary-color);
            border-color: var(--primary-color);
        }
        [data-theme="dark"] .auth-btn-google:hover { 
            background: var(--primary-color); 
            color: #fff;
        }
        .auth-sep { display: flex; align-items: center; margin: 18px 0; color: #777; }
        .auth-sep::before, .auth-sep::after { content: ""; flex: 1; border-bottom: 1px solid #ddd; }
        .auth-sep span { padding: 0 10px; font-size: 14px; }
        .auth-footer { text-align: center; margin-top: 10px; color: #666; font-size: 14px; }
        .auth-footer a { color: #4a6bff; text-decoration: none; font-weight: 600; }
        .auth-msg { padding: 10px; border-radius: 8px; margin-bottom: 12px; text-align: center; display: none; }
        .auth-msg.error { background: #ffebee; color: #d32f2f; border: 1px solid #ffcdd2; }
        .auth-msg.success { background: #e8f5e9; color: #388e3c; border: 1px solid #c8e6c9; }
        .auth-password-container { position: relative; }
        .auth-toggle-password { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); cursor: pointer; color: #777; }
        .auth-back-btn { position: absolute; top: 14px; left: 14px; background: rgba(255,255,255,0.2); width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; cursor: pointer; border: 1px solid rgba(255,255,255,0.35); }
        .auth-close { position: absolute; top: 14px; right: 14px; background: rgba(255,255,255,0.2); width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; cursor: pointer; border: 1px solid rgba(255,255,255,0.35); }
        .auth-page { display: none; }
        .auth-page.active { display: block; }

        /* Main Content Styles */
        .main-title {
            text-align: center;
            margin: 2rem 0;
        }

        .main-title h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .main-title p {
            color: var(--gray-color);
        }

        /* Search Results Styles */
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--light-color);
            border: 1px solid var(--gray-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 10;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .search-result-item {
            padding: 10px 20px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .search-result-item:hover {
            background-color: rgba(67, 97, 238, 0.1);
        }

        .search-result-item strong {
            color: var(--primary-color);
        }

        .search-result-item span {
            font-size: 0.8rem;
            color: var(--gray-color);
        }

        /* Category Section Styles */
        .category-section {
            margin: 3rem 0;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: var(--primary-color);
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .tool-card {
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            transition: var(--transition);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-color);
        }

        .tool-card h3 {
            margin-bottom: 10px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tool-card p {
            color: var(--gray-color);
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .tool-card a {
            display: inline-block;
            padding: 8px 15px;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .tool-card a:hover {
            background-color: var(--secondary-color);
        }

        /* Feedback Section Styles */
        .feedback-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 3rem 0;
            margin: 3rem 0 0;
        }
        
        .feedback-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .feedback-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary-color);
        }
        
        .feedback-form {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }
        
        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }
        
        .submit-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-block;
        }
        
        .submit-button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }
        
        .alert {
            padding: 12px 15px;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            display: none;
        }
        
        .alert-success {
            background-color: rgba(75, 181, 67, 0.2);
            color: var(--success-color);
            border: 1px solid var(--success-color);
        }
        
        .alert-error {
            background-color: rgba(255, 51, 51, 0.2);
            color: var(--danger-color);
            border: 1px solid var(--danger-color);
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        .privacy-note {
            margin-top: 1rem;
            font-size: 0.8rem;
            color: var(--gray-color);
            text-align: center;
        }
        
        [data-theme="dark"] .feedback-section {
            background: linear-gradient(135deg, #2d2d2d 0%, #1e1e1e 100%);
        }
        
        [data-theme="dark"] .feedback-form {
            background-color: rgb(30, 30, 30);
            border: 1px solid #444;
        }
        
        [data-theme="dark"] .form-control {
            background-color: #333;
            border-color: #555;
            color: #eee;
        }

        /* Footer Styles */
        footer {
            background-color: var(--footer-bg);
            color: var(--footer-text);
            padding: 3rem 0 1rem;
            margin-top: 0;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 2rem;
        }

        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: white;
        }

        .footer-column p {
            color: var(--gray-color);
            margin-bottom: 15px;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: var(--gray-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-column ul li a:hover {
            color: var(--primary-color);
        }

        .social-links {
            display: flex;
            gap: 15px;
        }

        .social-links a {
            color: white;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .social-links a:hover {
            color: var(--primary-color);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--gray-color);
            font-size: 0.9rem;
        }

        /* Highlight effect for search navigation */
        .highlight {
            animation: highlight 2s ease;
        }

        @keyframes highlight {
            0% { background-color: rgba(67, 97, 238, 0.2); }
            100% { background-color: transparent; }
        }

        /* Smooth scrolling for anchor links */
        html {
            scroll-behavior: smooth;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                gap: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .header-content h2 {
                font-size: 2rem;
            }
            
            .header-content p {
                font-size: 1.1rem;
            }
            
            .header-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .tools-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }

            .dropdown-content {
                left: -50px;
            }
            
            .feedback-form {
                padding: 1.5rem;
            }
            
            /* Footer 2 columns on mobile */
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .header-content h2 {
                font-size: 1.8rem;
            }
            
            .header-content p {
                font-size: 1rem;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }

            .contact-info {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .feedback-form {
                padding: 1rem;
            }
            
            /* Footer 2 columns on small mobile */
            .footer-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header class="header" id="header">
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <i class="fas fa-tools"></i>
                    <h1>Wander Tools</h1>
                </div>
                
                <nav class="nav-links">
                    <a href="#header">Home</a>
                    <a href="#home">Tools</a>
                    
                    <!-- Dropdown Menu -->
                    <div class="dropdown">
                        <button class="dropdown-button">Categories <i class="fas fa-chevron-down"></i></button>
                        <div class="dropdown-content">
                            <a href="#image-tools">Image Tools</a>
                            <a href="#file-tools">File Tools</a>
                            <a href="#analytics-tools">Analytics Tools</a>
                            <a href="#seo-tools">SEO & Web Tools</a>
                            <a href="#math-tools">Math & Utility Tools</a>
                            <a href="#text-tools">Text Tools</a>
                            <a href="#developer-tools">Developer Tools</a>
                            <a href="#color-tools">Color Tools</a>
                        </div>
                    </div>
                    
                    <a href="#feedback">Feedback</a>
                    <a href="#contact">Contact</a>
                </nav>
                
                <div class="contact-info">
                    <a href="mailto:wander.tools.site@gmail.com" class="email-link">
                        <i class="fas fa-envelope"></i>
                        <span>wander.tools.site@gmail.com</span>
                    </a>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon" id="themeIcon"></i>
                    </button>
                    <div class="auth-area" id="authArea"></div>
                </div>
            </div>
            
            <div class="header-content">
                <h2>Your Daily Tools, All in One Place</h2>
                <p>Convert, calculate, compress, and simplify your everyday tasks - fast and free.</p>
                
                <div class="header-buttons">
                    <a href="#home" class="cta-button">Explore Tools</a>
                    <a href="#" class="download-button" id="downloadButton">Download Apps</a>
                    <div class="auth-buttons" id="headerAuthButtons" style="display:none;">
                        <button class="auth-button" id="openLogin">Login</button>
                        <button class="auth-button" id="openSignUp">Sign Up</button>
                    </div>
                </div>
                
                <div class="header-search-container">
                    <input type="text" class="header-search-bar" placeholder="Search a tool..." id="headerSearchInput">
                    <i class="fas fa-search search-icon"></i>
                    <div class="search-results" id="searchResults"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- Download Apps Modal -->
    <div id="downloadModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeModal">&times;</span>
            <h3 class="modal-title"><i class="fas fa-download"></i> Download Our Apps</h3>
            <div class="download-options">
                <a href="wander-tools.apk" class="download-option" download>
                    <i class="fab fa-android"></i>
                    <span>Download Android App</span>
                </a>
                <a href="path/to/ios-app.ipa" class="download-option" download>
                    <i class="fab fa-apple"></i>
                    <span>Download iOS App</span>
                </a>
                <a href="path/to/android-pad-app.apk" class="download-option" download>
                    <i class="fas fa-tablet-alt"></i>
                    <span>Download Android Pad App</span>
                </a>
                <a href="path/to/ipad-app.ipa" class="download-option" download>
                    <i class="fas fa-tablet-alt"></i>
                    <span>Download iPad App</span>
                </a>
                <a href="path/to/windows-app.exe" class="download-option" download>
                    <i class="fab fa-windows"></i>
                    <span>Download Windows Application</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="modal" style="display:none; align-items:center; justify-content:center;">
        <div class="auth-card">
            <div id="loginPage" class="auth-page active">
                <div class="auth-header">
                    <button class="auth-close" id="authCloseBtn" title="Close"><i class="fas fa-times"></i></button>
                    <div class="logo"><i class="fas fa-tools"></i></div>
                    <h2>Welcome to Wander Tools</h2>
                    <p>Sign in to access your tools and preferences</p>
                </div>
                <div class="auth-body">
                    <div id="loginErrorMessage" class="auth-msg error"></div>
                    <div id="loginSuccessMessage" class="auth-msg success"></div>
                    <div class="auth-group">
                        <label class="auth-label" for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" class="auth-input" placeholder="Enter your email">
                    </div>
                    <div class="auth-group">
                        <label class="auth-label" for="loginPassword">Password</label>
                        <div class="auth-password-container">
                            <input type="password" id="loginPassword" class="auth-input" placeholder="Enter your password">
                            <span class="auth-toggle-password" id="toggleLoginPassword"><i class="far fa-eye"></i></span>
                        </div>
                    </div>
                    <button id="loginBtn" class="auth-btn auth-btn-primary"><span>Sign In</span></button>
                    <div class="auth-sep"><span>OR</span></div>
                    <button id="googleLoginBtn" class="auth-btn auth-btn-google"><i class="fab fa-google"></i> Sign in with Google</button>
                    <div class="auth-footer">
                        <p>Don't have an account? <a href="#" id="showSignUpLink">Sign up</a></p>
                        <p><a href="#" id="forgotPasswordLink">Forgot password?</a></p>
                    </div>
                </div>
            </div>
            <div id="signUpPage" class="auth-page">
                <div class="auth-header">
                    <button class="auth-back-btn" id="backToLogin" title="Back"><i class="fas fa-arrow-left"></i></button>
                    <button class="auth-close" id="authCloseBtn2" title="Close"><i class="fas fa-times"></i></button>
                    <div class="logo"><i class="fas fa-user-plus"></i></div>
                    <h2>Create Account</h2>
                    <p>Join Wander Tools today</p>
                </div>
                <div class="auth-body">
                    <div id="signUpErrorMessage" class="auth-msg error"></div>
                    <div id="signUpSuccessMessage" class="auth-msg success"></div>
                    <div class="auth-group">
                        <label class="auth-label" for="signUpName">Full Name</label>
                        <input type="text" id="signUpName" class="auth-input" placeholder="Enter your full name">
                    </div>
                    <div class="auth-group">
                        <label class="auth-label" for="signUpEmail">Email</label>
                        <input type="email" id="signUpEmail" class="auth-input" placeholder="Enter your email">
                    </div>
                    <div class="auth-group">
                        <label class="auth-label" for="signUpPassword">Password</label>
                        <div class="auth-password-container">
                            <input type="password" id="signUpPassword" class="auth-input" placeholder="Create a password">
                            <span class="auth-toggle-password" id="toggleSignUpPassword"><i class="far fa-eye"></i></span>
                        </div>
                        <div class="password-rules" style="font-size:12px;color:#666;margin-top:6px;">Must be at least 6 characters</div>
                    </div>
                    <div class="auth-group">
                        <label class="auth-label" for="confirmPassword">Confirm Password</label>
                        <div class="auth-password-container">
                            <input type="password" id="confirmPassword" class="auth-input" placeholder="Confirm your password">
                            <span class="auth-toggle-password" id="toggleConfirmPassword"><i class="far fa-eye"></i></span>
                        </div>
                    </div>
                    <button id="signUpBtn" class="auth-btn auth-btn-primary"><span>Create Account</span></button>
                    <div class="auth-sep" style="margin: 18px 0;"><span>OR</span></div>
                    <button id="googleSignUpBtn" class="auth-btn auth-btn-google"><i class="fab fa-google"></i> Continue with Google</button>
                    <div class="auth-footer" style="margin-top:14px;">
                        By creating an account, you agree to our <a href="#">Terms</a> and <a href="#">Privacy</a>
                    </div>
                </div>
            </div>
            <div id="verifyEmailPage" class="auth-page">
                <div class="auth-header">
                    <button class="auth-back-btn" id="verifyBackToLogin" title="Back"><i class="fas fa-arrow-left"></i></button>
                    <button class="auth-close" id="authCloseBtn3" title="Close"><i class="fas fa-times"></i></button>
                    <div class="logo"><i class="fas fa-envelope"></i></div>
                    <h2>Verify your email</h2>
                    <p>We've sent a verification link to <span id="verifyEmailTarget"></span>. Please verify to continue.</p>
                </div>
                <div class="auth-body">
                    <div id="verifyInfoMessage" class="auth-msg success" style="display:block;">Please check your inbox (and spam folder).</div>
                    <div id="verifyErrorMessage" class="auth-msg error"></div>
                    <button id="resendVerifyBtn" class="auth-btn auth-btn-google"><i class="fas fa-paper-plane"></i> Resend verification email</button>
                    <div class="auth-sep"><span>THEN</span></div>
                    <button id="iVerifiedBtn" class="auth-btn auth-btn-primary"><span>I've verified, continue</span></button>
                </div>
            </div>
        </div>
    </div>

    <main class="container">
        <section id="home">
            <div class="main-title">
                <h2>Your Complete Online Toolkit</h2>
                <p>Free, fast and easy-to-use tools for developers, designers, and everyone else</p>
            </div>
        </section>

        <!-- Image Tools Section -->
        <section id="image-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-image"></i>
                Image Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-expand"></i> Image Resizer</h3>
                    <p>Resize your images to any dimension while maintaining quality.</p>
                    <a href="tools/image-tools/image-resizer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-exchange-alt"></i> Image Format Converter</h3>
                    <p>Convert between JPG, PNG, WebP and other image formats.</p>
                    <a href="tools/image-tools/image-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-cut"></i> Background Remover</h3>
                    <p>Remove backgrounds from images automatically with AI technology.</p>
                    <a href="tools/image-tools/background-remover.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-compress-alt"></i> Image Compressor</h3>
                    <p>Reduce image file size without noticeable quality loss.</p>
                    <a href="tools/image-tools/image-compressor.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- File Tools Section -->
        <section id="file-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-file"></i>
                File Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-file-pdf"></i> PDF to Word</h3>
                    <p>Convert your PDF documents to editable Word files in seconds.</p>
                    <a href="tools/file-tools/pdf-to-word.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-file-word"></i> Word to PDF</h3>
                    <p>Convert Word documents to PDF format with perfect formatting.</p>
                    <a href="tools/file-tools/word-to-pdf.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-file-image"></i> Image to PDF</h3>
                    <p>Convert one or multiple images to a single PDF document.</p>
                    <a href="tools/file-tools/image-to-pdf.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-file-archive"></i> ZIP Extractor</h3>
                    <p>Extract files from ZIP archives online without any software.</p>
                    <a href="tools/file-tools/zip-extractor.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Analytics Tools Section -->
        <section id="analytics-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-chart-line"></i>
                Analytics Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-file-csv"></i> CSV/Excel Analyzer</h3>
                    <p>Analyze and visualize data from CSV and Excel files with powerful tools.</p>
                    <a href="tools/analytics-tools/csv-excel-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-search-dollar"></i> Keyword Density & SEO Analyzer</h3>
                    <p>Analyze keyword density and SEO metrics for URLs or text content.</p>
                    <a href="tools/analytics-tools/keyword-seo-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-smile"></i> Sentiment Analyzer</h3>
                    <p>Analyze text sentiment to determine positive, negative, or neutral tone.</p>
                    <a href="tools/analytics-tools/sentiment-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-server"></i> Log File / IP Analyzer</h3>
                    <p>Analyze server log files and IP addresses for insights and patterns.</p>
                    <a href="tools/analytics-tools/log-ip-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-book-reader"></i> Readability & Word Frequency Analyzer</h3>
                    <p>Analyze text readability scores and word frequency patterns.</p>
                    <a href="tools/analytics-tools/readability-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fab fa-youtube"></i> YouTube Channel Analyzer</h3>
                    <p>Analyze YouTube channel performance, statistics, and engagement metrics.</p>
                    <a href="tools/analytics-tools/youtube-analyzer.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- SEO & Web Tools Section -->
        <section id="seo-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-globe"></i>
                SEO & Web Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-tags"></i> Meta Tag Generator</h3>
                    <p>Create perfect meta tags for your website to improve SEO.</p>
                    <a href="tools/seo&web-tools/meta-tag-generator.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-search"></i> Domain WHOIS Lookup</h3>
                    <p>Get detailed information about any domain name registration.</p>
                    <a href="tools/seo&web-tools/domain-whois-lookup.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-link"></i> URL Shortener</h3>
                    <p>Shorten long URLs to make them more shareable and trackable.</p>
                    <a href="tools/seo&web-tools/url-shortener.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-qrcode"></i> QR Code Generator</h3>
                    <p>Create QR codes for URLs, text, contact info and more.</p>
                    <a href="tools/seo&web-tools/qr-code-generator.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Math & Utility Tools Section -->
        <section id="math-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-calculator"></i>
                Math & Utility Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-calculator"></i> Calculator</h3>
                    <p>A full-featured calculator for all your basic and advanced needs.</p>
                    <a href="tools/math&utility-tools/calculator.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-ruler-combined"></i> Unit Converter</h3>
                    <p>Convert between different units of length, weight, temperature etc.</p>
                    <a href="tools/math&utility-tools/unit-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-money-bill-wave"></i> Currency Converter</h3>
                    <p>Convert between world currencies with up-to-date exchange rates.</p>
                    <a href="tools/math&utility-tools/currency-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-birthday-cake"></i> Age Calculator</h3>
                    <p>Calculate exact age in years, months and days from birth date.</p>
                    <a href="tools/math&utility-tools/age-calculator.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Text Tools Section -->
        <section id="text-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-font"></i>
                Text Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-sort-numeric-up"></i> Word Counter</h3>
                    <p>Count words, characters, sentences and paragraphs in your text.</p>
                    <a href="tools/text-tools/word-counter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-lock"></i> Text Encryptor</h3>
                    <p>Encrypt and decrypt text with secure algorithms..</p>
                    <a href="tools/text-tools/text-encryption.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-text-height"></i> Case Converter</h3>
                    <p>Convert text between uppercase, lowercase, title case and more.</p>
                    <a href="tools/text-tools/case-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-paragraph"></i> Lorem Ipsum Generator</h3>
                    <p>Generate placeholder text in Lorem Ipsum for your designs.</p>
                    <a href="tools/text-tools/lorem-ipsum.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Developer Tools Section -->
        <section id="developer-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-code"></i>
                Developer Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-code"></i> JSON Formatter</h3>
                    <p>Format and validate JSON data to make it readable and error-free.</p>
                    <a href="tools/developer-tools/json-formatter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-key"></i> Base64 Converter</h3>
                    <p>Encode and decode Base64 strings and files.</p>
                    <a href="tools/developer-tools/base64-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-terminal"></i> Regex Tester</h3>
                    <p>Test and debug regular expressions with real-time matching.</p>
                    <a href="tools/developer-tools/regex-tester.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-exchange-alt"></i> JSON to XML Converter</h3>
                    <p>Convert JSON data to XML format and vice versa.</p>
                    <a href="tools/developer-tools/json-to-xml-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-hashtag"></i> Hash Generator</h3>
                    <p>Generate MD5, SHA-1, SHA-256 and other cryptographic hashes.</p>
                    <a href="tools/developer-tools/hash-generator.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-fingerprint"></i> UUID Generator</h3>
                    <p>Generate universally unique identifiers (UUIDs) for your applications.</p>
                    <a href="tools/developer-tools/uuid-generator.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Color Tools Section -->
        <section id="color-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-palette"></i>
                Color Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-eye-dropper"></i> Color Picker</h3>
                    <p>Pick colors from anywhere and get their HEX, RGB, HSL values.</p>
                    <a href="tools/color-tools/color-picker.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-swatchbook"></i> Color Palette Generator</h3>
                    <p>Generate beautiful color palettes for your designs and projects.</p>
                    <a href="tools/color-tools/color-palettes.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-exchange-alt"></i> Color Code Generator</h3>
                    <p>Generate colors between HEX, RGB, HSL, and other formats.</p>
                    <a href="tools/color-tools/color-code-generator.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-contrast"></i> Color combinator</h3>
                    <p>Find perfect color combinations for your designs.</p>
                    <a href="tools/color-tools/color-combinator.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Feedback Section -->
        <section id="feedback" class="feedback-section">
            <div class="feedback-container">
                <h2 class="feedback-title">
                    <i class="fas fa-comment-dots"></i>
                    Send Us Your Feedback
                </h2>
                
                <div id="alertBox" class="alert"></div>
                
                <form class="feedback-form" id="feedbackForm">
                    <div class="form-group" id="nameGroup">
                        <label for="name">Name *</label>
                        <input type="text" id="name" class="form-control" placeholder="Your name" required minlength="2" maxlength="50">
                    </div>
                    <div class="form-group" id="emailGroup">
                        <label for="email">Email *</label>
                        <input type="email" id="email" class="form-control" placeholder="Your email" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Message *</label>
                        <textarea id="message" class="form-control" placeholder="Your feedback or suggestions..." required minlength="10" maxlength="1000"></textarea>
                    </div>
                    <button type="submit" class="submit-button" id="submitButton">
                        Send Feedback
                    </button>
                </form>

                <p class="privacy-note">
                    <i class="fas fa-shield-alt"></i>
                    Your information is secure and will only be used to respond to your feedback.
                </p>
            </div>
        </section>
    </main>

    <!-- Footer Section -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Wander Tools</h3>
                    <p>Your complete online toolkit for everyday tasks. Free, fast and easy-to-use tools for everyone.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/shahadot.wp"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-github"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#header">Home</a></li>
                        <li><a href="#home">All Tools</a></li>
                        <li><a href="#feedback">Feedback</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Categories</h3>
                    <ul>
                        <li><a href="#image-tools">Image Tools</a></li>
                        <li><a href="#file-tools">File Tools</a></li>
                        <li><a href="#analytics-tools">Analytics Tools</a></li>
                        <li><a href="#seo-tools">SEO & Web Tools</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>More Categories</h3>
                    <ul>
                        <li><a href="#math-tools">Math & Utility Tools</a></li>
                        <li><a href="#text-tools">Text Tools</a></li>
                        <li><a href="#developer-tools">Developer Tools</a></li>
                        <li><a href="#color-tools">Color Tools</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Wander Tools. All rights reserved.</p>
                <button id="scrollToTop" class="cta-button" style="margin-top: 15px; padding: 8px 20px;">
                    <i class="fas fa-arrow-up"></i> Back to Top
                </button>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBCIRviVtANQrb72IZzyNlQMuCzsIATP7k",
            authDomain: "wander-tools.firebaseapp.com",
            projectId: "wander-tools",
            storageBucket: "wander-tools.firebasestorage.app",
            messagingSenderId: "911828766491",
            appId: "1:911828766491:web:e38541bd54996adea5cdbe",
            measurementId: "G-GY19ZGWP4K"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        // Theme Toggle Functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const body = document.body;

        // Check for saved theme preference or respect OS preference
        const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.classList.replace('fa-moon', 'fa-sun');
        }

        themeToggle.addEventListener('click', () => {
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                themeIcon.classList.replace('fa-sun', 'fa-moon');
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeIcon.classList.replace('fa-moon', 'fa-sun');
                localStorage.setItem('theme', 'dark');
            }
        });

        // Modal Functionality
        const downloadButton = document.getElementById('downloadButton');
        const downloadModal = document.getElementById('downloadModal');
        const closeModal = document.getElementById('closeModal');
        // Auth modal elements
        const authModal = document.getElementById('authModal');
        const openLoginBtn = document.getElementById('openLogin');
        const openSignUpBtn = document.getElementById('openSignUp');
        const authArea = document.getElementById('authArea');
        const headerAuthButtons = document.getElementById('headerAuthButtons');

        downloadButton.addEventListener('click', (e) => {
            e.preventDefault();
            downloadModal.style.display = 'block';
        });

        closeModal.addEventListener('click', () => {
            downloadModal.style.display = 'none';
        });

        window.addEventListener('click', (e) => {
            if (e.target === downloadModal) {
                downloadModal.style.display = 'none';
            }
            if (e.target === authModal) {
                authModal.style.display = 'none';
            }
        });

        function setAuthPage(page) {
            const loginPageEl = document.getElementById('loginPage');
            const signUpPageEl = document.getElementById('signUpPage');
            const verifyEmailPageEl = document.getElementById('verifyEmailPage');
            if (page === 'signup') {
                loginPageEl.classList.remove('active');
                signUpPageEl.classList.add('active');
                verifyEmailPageEl.classList.remove('active');
            } else if (page === 'verify') {
                loginPageEl.classList.remove('active');
                signUpPageEl.classList.remove('active');
                verifyEmailPageEl.classList.add('active');
            } else {
                signUpPageEl.classList.remove('active');
                loginPageEl.classList.add('active');
                verifyEmailPageEl.classList.remove('active');
            }
        }

        function openAuthModal(mode) {
            setAuthPage(mode || 'login');
            authModal.style.display = 'block';
        }

        if (openLoginBtn) openLoginBtn.addEventListener('click', (e) => { e.preventDefault(); openAuthModal('login'); });
        if (openSignUpBtn) openSignUpBtn.addEventListener('click', (e) => { e.preventDefault(); openAuthModal('signup'); });
        const authCloseBtn = document.getElementById('authCloseBtn');
        const authCloseBtn2 = document.getElementById('authCloseBtn2');
        if (authCloseBtn) authCloseBtn.addEventListener('click', () => { authModal.style.display = 'none'; });
        if (authCloseBtn2) authCloseBtn2.addEventListener('click', () => { authModal.style.display = 'none'; });

        // Search Functionality
        const headerSearchInput = document.getElementById('headerSearchInput');
        const searchResults = document.getElementById('searchResults');
        
        // Sample tools data for search
        const tools = [
            { name: 'Image Resizer', category: 'Image Tools', url: 'tools/image-tools/image-resizer.html' },
            { name: 'Image Format Converter', category: 'Image Tools', url: 'tools/image-tools/image-converter.html' },
            { name: 'Background Remover', category: 'Image Tools', url: 'tools/image-tools/background-remover.html' },
            { name: 'Image Compressor', category: 'Image Tools', url: 'tools/image-tools/image-compressor.html' },
            { name: 'PDF to Word', category: 'File Tools', url: 'tools/file-tools/pdf-to-word.html' },
            { name: 'Word to PDF', category: 'File Tools', url: 'tools/file-tools/word-to-pdf.html' },
            { name: 'Image to PDF', category: 'File Tools', url: 'tools/file-tools/image-to-pdf.html' },
            { name: 'ZIP Extractor', category: 'File Tools', url: 'tools/file-tools/zip-extractor.html' },
            { name: 'CSV/Excel Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/csv-excel-analyzer.html' },
            { name: 'Keyword Density & SEO Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/keyword-seo-analyzer.html' },
            { name: 'Sentiment Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/sentiment-analyzer.html' },
            { name: 'Log File / IP Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/log-ip-analyzer.html' },
            { name: 'Readability & Word Frequency Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/readability-analyzer.html' },
            { name: 'YouTube Channel Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/youtube-analyzer.html' },
            { name: 'Meta Tag Generator', category: 'SEO & Web Tools', url: 'tools/seo&web-tools/meta-tag-generator.html' },
            { name: 'Domain WHOIS Lookup', category: 'SEO & Web Tools', url: 'tools/seo&web-tools/domain-whois-lookup.html' },
            { name: 'URL Shortener', category: 'SEO & Web Tools', url: 'tools/seo&web-tools/url-shortener.html' },
            { name: 'QR Code Generator', category: 'SEO & Web Tools', url: 'tools/seo&web-tools/qr-code-generator.html' },
            { name: 'Calculator', category: 'Math & Utility Tools', url: 'tools/math&utility-tools/calculator.html' },
            { name: 'Unit Converter', category: 'Math & Utility Tools', url: 'tools/math&utility-tools/unit-converter.html' },
            { name: 'Currency Converter', category: 'Math & Utility Tools', url: 'tools/math&utility-tools/currency-converter.html' },
            { name: 'Age Calculator', category: 'Math & Utility Tools', url: 'tools/math&utility-tools/age-calculator.html' },
            { name: 'Word Counter', category: 'Text Tools', url: 'tools/text-tools/word-counter.html' },
            { name: 'Translator', category: 'Text Tools', url: 'tools/text-tools/lorem-ipsum.html' },
            { name: 'Case Converter', category: 'Text Tools', url: 'tools/text-tools/case-converter.html' },
            { name: 'Text Generator', category: 'Text Tools', url: 'tools/text-tools/text-encryption.html' },
            { name: 'Base64 Converter', category: 'Developer Tools', url: 'tools/developer-tools/base64-converter.html' },
            { name: 'JSON to XML Converter', category: 'Developer Tools', url: 'tools/developer-tools/json-to-xml-converter.html' },
            { name: 'Hash Generator', category: 'Developer Tools', url: 'tools/developer-tools/hash-generator.html' },
            { name: 'Json Formatter', category: 'Developer Tools', url: 'tools/developer-tools/json-formatter.html' },
            { name: 'UUID Generator', category: 'Developer Tools', url: 'tools/developer-tools/uuid-generator.html' },
            { name: 'Regex Tester', category: 'Developer Tools', url: 'tools/developer-tools/regex-tester.html' },
            { name: 'Color Picker', category: 'Color Tools', url: 'tools/color-tools/color-picker.html' },
            { name: 'Color Palette Generator', category: 'Color Tools', url: 'tools/color-tools/color-palettes.html' },
            { name: 'Color Converter', category: 'Color Tools', url: 'tools/color-tools/color-combinator.html' },
            { name: 'Contrast Checker', category: 'Color Tools', url: 'tools/color-tools/color-code-generator.html' }
        ];

        headerSearchInput.addEventListener('input', () => {
            const searchTerm = headerSearchInput.value.toLowerCase().trim();
            
            // Clear previous results
            searchResults.innerHTML = '';
            
            if (searchTerm.length < 2) {
                searchResults.style.display = 'none';
                return;
            }
            
            // Filter tools based on search term
            const filteredTools = tools.filter(tool => 
                tool.name.toLowerCase().includes(searchTerm) || 
                tool.category.toLowerCase().includes(searchTerm)
            );
            
            if (filteredTools.length === 0) {
                searchResults.style.display = 'none';
                return;
            }
            
            // Display results
            filteredTools.forEach(tool => {
                const resultItem = document.createElement('div');
                resultItem.className = 'search-result-item';
                
                // Highlight matching text
                const highlightedName = tool.name.replace(new RegExp(searchTerm, 'gi'), match => `<strong>${match}</strong>`);
                
                resultItem.innerHTML = `
                    ${highlightedName}
                    <span>${tool.category}</span>
                `;
                
                resultItem.addEventListener('click', () => {
                    navigateTo(tool.url);
                });
                
                searchResults.appendChild(resultItem);
            });
            
            searchResults.style.display = 'block';
        });

        // Hide search results when clicking outside
        document.addEventListener('click', (e) => {
            if (!headerSearchInput.contains(e.target) && !searchResults.contains(e.target)) {
                searchResults.style.display = 'none';
            }
        });

        // Feedback Form Handling
        const feedbackForm = document.getElementById('feedbackForm');
        const submitButton = document.getElementById('submitButton');
        const alertBox = document.getElementById('alertBox');
        
        // Validate email format
        function isValidEmail(email) {
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            return emailRegex.test(email);
        }

        // Show alert message
        function showAlert(message, type) {
            alertBox.textContent = message;
            alertBox.className = `alert alert-${type}`;
            alertBox.style.display = 'block';
            
            // Hide alert after 5 seconds
            setTimeout(() => {
                alertBox.style.display = 'none';
            }, 5000);
        }

        function prefillFeedbackForUser(user) {
            const nameGroup = document.getElementById('nameGroup');
            const emailGroup = document.getElementById('emailGroup');
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            if (user) {
                const displayName = user.displayName || (user.email ? user.email.split('@')[0] : '');
                nameInput.value = displayName;
                emailInput.value = user.email || '';
                nameGroup.style.display = 'none';
                emailGroup.style.display = 'none';
                nameInput.removeAttribute('required');
                emailInput.removeAttribute('required');
            } else {
                nameGroup.style.display = '';
                emailGroup.style.display = '';
                nameInput.setAttribute('required', 'true');
                emailInput.setAttribute('required', 'true');
                nameInput.value = '';
                emailInput.value = '';
            }
        }

        auth.onAuthStateChanged((u) => {
            prefillFeedbackForUser(u);
        });

        feedbackForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const message = document.getElementById('message').value.trim();
            
            // Client-side validation (skip name/email checks for authenticated users)
            if (!auth.currentUser) {
                if (name.length < 2) {
                    showAlert('Name must be at least 2 characters long.', 'error');
                    return;
                }
                if (!isValidEmail(email)) {
                    showAlert('Please enter a valid email address.', 'error');
                    return;
                }
            }
            
            if (message.length < 10) {
                showAlert('Message must be at least 10 characters long.', 'error');
                return;
            }
            
            // Disable submit button and show loading state
            submitButton.disabled = true;
            submitButton.innerHTML = '<span class="loading"></span> Sending...';
            
            try {
                // Save feedback to Firestore
                const activeUser = auth.currentUser;
                await db.collection("feedbacks").add({
                    name: name,
                    email: email,
                    message: message,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    pageUrl: window.location.href,
                    uid: activeUser ? activeUser.uid : null
                });
                
                // Show success message
                showAlert('Thank you for your feedback! We appreciate your input.', 'success');
                
                // Reset form
                feedbackForm.reset();
            } catch (error) {
                console.error("Error saving feedback: ", error);
                showAlert('Sorry, there was an error submitting your feedback. Please try again.', 'error');
            } finally {
                // Re-enable submit button
                submitButton.disabled = false;
                submitButton.innerHTML = 'Send Feedback';
            }
        });

        // Input validation on the fly
        document.getElementById('email').addEventListener('blur', function() {
            if (this.value && !isValidEmail(this.value)) {
                this.style.borderColor = 'var(--danger-color)';
            } else {
                this.style.borderColor = '#ddd';
            }
        });

        document.getElementById('name').addEventListener('blur', function() {
            if (this.value && this.value.length < 2) {
                this.style.borderColor = 'var(--danger-color)';
            } else {
                this.style.borderColor = '#ddd';
            }
        });

        document.getElementById('message').addEventListener('blur', function() {
            if (this.value && this.value.length < 10) {
                this.style.borderColor = 'var(--danger-color)';
            } else {
                this.style.borderColor = '#ddd';
            }
        });

        // Scroll to top functionality
        const scrollToTopButton = document.getElementById('scrollToTop');
        
        scrollToTopButton.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Highlight navigation when scrolling to sections
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.nav-links a');
        
        window.addEventListener('scroll', () => {
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                
                if (pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });
        });

        // Footer link hover effect with Use Tool button color
        const footerLinks = document.querySelectorAll('.footer-column ul li a');
        const useToolButton = document.querySelector('.tool-card a');
        
        if (useToolButton) {
            const useToolColor = getComputedStyle(useToolButton).backgroundColor;
            
            footerLinks.forEach(link => {
                link.addEventListener('mouseenter', () => {
                    link.style.color = useToolColor;
                });
                
                link.addEventListener('mouseleave', () => {
                    link.style.color = '';
                });
            });
        }

        // ===== Auth UI and gating =====
        function renderAuthUI(user) {
            if (user) {
                headerAuthButtons.style.display = 'none';
                const displayName = user.displayName || (user.email ? user.email.split('@')[0] : 'User');
                authArea.innerHTML = '';
                const profileDiv = document.createElement('div');
                profileDiv.className = 'profile';
                const avatar = user.photoURL ? `<img class=\"profile-avatar\" src=\"${user.photoURL}\" alt=\"avatar\">` : `<i class=\"fas fa-user-circle\"></i>`;
                profileDiv.innerHTML = `
                    <button class="profile-toggle" id="profileToggle">
                        ${avatar}
                        <span id="profileName">${displayName}</span>
                    </button>
                    <div class="profile-menu" id="profileMenu">
                        <a href="profile.html" id="viewProfile">View Profile</a>
                        <button id="logoutBtn">Logout</button>
                    </div>
                `;
                authArea.appendChild(profileDiv);

                const profileToggle = document.getElementById('profileToggle');
                const profileMenu = document.getElementById('profileMenu');
                const logoutBtn = document.getElementById('logoutBtn');

                profileToggle.addEventListener('click', () => {
                    profileMenu.style.display = profileMenu.style.display === 'block' ? 'none' : 'block';
                });

                document.addEventListener('click', (evt) => {
                    if (!profileDiv.contains(evt.target)) {
                        profileMenu.style.display = 'none';
                    }
                });

                logoutBtn.addEventListener('click', async () => {
                    await auth.signOut();
                    profileMenu.style.display = 'none';
                });
            } else {
                authArea.innerHTML = '';
                headerAuthButtons.style.display = 'flex';
            }
        }

        auth.onAuthStateChanged(async (user) => {
            // Try to hydrate displayName from Firestore if missing
            if (user && !user.displayName) {
                try {
                    const doc = await db.collection('users').doc(user.uid).get();
                    const data = doc.exists ? doc.data() : null;
                    if (data && data.name) {
                        await user.updateProfile({ displayName: data.name }).catch(() => {});
                    }
                } catch (_) { /* ignore */ }
            }
            // If Firestore stores a photoURL, sync it as well
            if (user && !user.photoURL) {
                try {
                    const doc = await db.collection('users').doc(user.uid).get();
                    const data = doc.exists ? doc.data() : null;
                    if (data && data.photoURL) {
                        await user.updateProfile({ photoURL: data.photoURL }).catch(() => {});
                    }
                } catch (_) { /* ignore */ }
            }
            renderAuthUI(user);
        });

        function navigateTo(url) {
            const user = auth.currentUser;
            if (!user) {
                openAuthModal('login');
                return;
            }
            window.location.href = url;
        }

        // Intercept "Use Tool" clicks when not authenticated
        document.addEventListener('click', function(e) {
            const target = e.target;
            if (target.closest && target.closest('.tool-card a')) {
                const anchor = target.closest('.tool-card a');
                const url = anchor.getAttribute('href');
                if (!auth.currentUser) {
                    e.preventDefault();
                    openAuthModal('login');
                } else {
                    // allow default navigation
                }
            }
        }, true);

        // ===== Inline Auth Handlers =====
        const loginEmailInput = document.getElementById('loginEmail');
        const loginPasswordInput = document.getElementById('loginPassword');
        const loginBtn = document.getElementById('loginBtn');
        const googleLoginBtn = document.getElementById('googleLoginBtn');
        const showSignUpLink = document.getElementById('showSignUpLink');
        const forgotPasswordLink = document.getElementById('forgotPasswordLink');
        const toggleLoginPassword = document.getElementById('toggleLoginPassword');
        const loginErrorMessage = document.getElementById('loginErrorMessage');
        const loginSuccessMessage = document.getElementById('loginSuccessMessage');

        const backToLogin = document.getElementById('backToLogin');
        const signUpNameInput = document.getElementById('signUpName');
        const signUpEmailInput = document.getElementById('signUpEmail');
        const signUpPasswordInput = document.getElementById('signUpPassword');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        const signUpBtn = document.getElementById('signUpBtn');
        const toggleSignUpPassword = document.getElementById('toggleSignUpPassword');
        const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
        const signUpErrorMessage = document.getElementById('signUpErrorMessage');
        const signUpSuccessMessage = document.getElementById('signUpSuccessMessage');

        function setupPasswordToggle(toggleElement, inputElement) {
            if (!toggleElement || !inputElement) return;
            toggleElement.addEventListener('click', () => {
                if (inputElement.type === 'password') {
                    inputElement.type = 'text';
                    toggleElement.innerHTML = '<i class="far fa-eye-slash"></i>';
                } else {
                    inputElement.type = 'password';
                    toggleElement.innerHTML = '<i class="far fa-eye"></i>';
                }
            });
        }
        setupPasswordToggle(toggleLoginPassword, loginPasswordInput);
        setupPasswordToggle(toggleSignUpPassword, signUpPasswordInput);
        setupPasswordToggle(toggleConfirmPassword, confirmPasswordInput);

        if (showSignUpLink) {
            showSignUpLink.addEventListener('click', (e) => {
                e.preventDefault();
                setAuthPage('signup');
            });
        }
        if (backToLogin) {
            backToLogin.addEventListener('click', () => setAuthPage('login'));
        }
        // Verify email navigation controls
        const verifyBackToLogin = document.getElementById('verifyBackToLogin');
        const authCloseBtn3 = document.getElementById('authCloseBtn3');
        if (verifyBackToLogin) verifyBackToLogin.addEventListener('click', () => setAuthPage('login'));
        if (authCloseBtn3) authCloseBtn3.addEventListener('click', () => { authModal.style.display = 'none'; });

        function showLoginError(message) {
            loginErrorMessage.textContent = message;
            loginErrorMessage.style.display = 'block';
            loginSuccessMessage.style.display = 'none';
        }
        function showLoginSuccess(message) {
            loginSuccessMessage.textContent = message;
            loginSuccessMessage.style.display = 'block';
            loginErrorMessage.style.display = 'none';
        }
        function showSignUpError(message) {
            signUpErrorMessage.textContent = message;
            signUpErrorMessage.style.display = 'block';
            signUpSuccessMessage.style.display = 'none';
        }
        function showSignUpSuccess(message) {
            signUpSuccessMessage.textContent = message;
            signUpSuccessMessage.style.display = 'block';
            signUpErrorMessage.style.display = 'none';
        }

        if (loginBtn) {
            loginBtn.addEventListener('click', () => {
                const email = loginEmailInput.value;
                const password = loginPasswordInput.value;
                if (!email || !password) { showLoginError('Please enter both email and password'); return; }
                loginBtn.disabled = true;
                loginBtn.innerHTML = '<span><i class="fas fa-spinner fa-spin"></i> Signing in...</span>';
                auth.signInWithEmailAndPassword(email, password)
                    .then(() => {
                        const user = auth.currentUser;
                        if (user && !user.emailVerified) {
                            document.getElementById('verifyEmailTarget').textContent = user.email || '';
                            setAuthPage('verify');
                            user.sendEmailVerification().catch(() => {});
                            showLoginError('Please verify your email from the verification link we sent.');
                        } else {
                            showLoginSuccess('Successfully signed in!');
                            authModal.style.display = 'none';
                        }
                    })
                    .catch((error) => {
                        loginBtn.disabled = false;
                        loginBtn.innerHTML = '<span>Sign In</span>';
                        showLoginError((() => {
                            switch(error.code){
                                case 'auth/invalid-email':
                                case 'auth/user-not-found':
                                case 'auth/wrong-password':
                                case 'auth/invalid-credential':
                                case 'auth/invalid-login-credentials':
                                    return 'Invalid credentials';
                                case 'auth/user-disabled':
                                    return 'This user account has been disabled.';
                                default:
                                    return 'An error occurred during authentication. Please try again.';
                            }
                        })());
                    });
            });
        }

        // Handle Google sign-in (popup with graceful fallback to redirect)
        // Also processes results if we returned from a redirect flow
        (function setupGoogleAuth() {
            // Both Login and Sign Up Google buttons
            const googleSignUpBtn = document.getElementById('googleSignUpBtn');
            const googleButtons = [googleLoginBtn, googleSignUpBtn].filter(Boolean);

            // If we came back from a redirect, complete the sign-in
            auth.getRedirectResult()
                .then((result) => {
                    if (result && result.user) {
                        showLoginSuccess('Successfully signed in with Google!');
                        authModal.style.display = 'none';
                    }
                })
                .catch((error) => {
                    // Surface clearer messages
                    const msg = (() => {
                        switch (error.code) {
                            case 'auth/unauthorized-domain':
                                return 'This domain is not authorized for Google sign-in. Please use the published site URL or add this domain in Firebase Auth settings.';
                            case 'auth/operation-not-supported-in-this-environment':
                                return 'This environment does not support popup sign-in. Please try again or use a supported browser.';
                            default:
                                return 'An error occurred completing Google sign-in. Please try again.';
                        }
                    })();
                    showLoginError(msg);
                });

            // Attach handler to all Google buttons
            googleButtons.forEach((btn) => btn.addEventListener('click', async () => {
                const provider = new firebase.auth.GoogleAuthProvider();
                const originalHtml = btn.innerHTML;
                btn.disabled = true;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Signing in...';
                try {
                    await auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);
                } catch (_) { /* ignore */ }

                try {
                    await auth.signInWithPopup(provider);
                    showLoginSuccess('Successfully signed in with Google!');
                    authModal.style.display = 'none';
                } catch (error) {
                    // Fallback to redirect for environments where popup fails
                    const fallbackCodes = new Set([
                        'auth/popup-blocked',
                        'auth/popup-closed-by-user',
                        'auth/operation-not-supported-in-this-environment'
                    ]);

                    if (fallbackCodes.has(error.code)) {
                        try {
                            await auth.signInWithRedirect(provider);
                            return; // control will continue after redirect
                        } catch (redirectErr) {
                            const msg = redirectErr && redirectErr.code === 'auth/unauthorized-domain'
                                ? 'This domain is not authorized for Google sign-in. Please open the site from its configured domain.'
                                : 'Google sign-in failed. Please try again.';
                            showLoginError(msg);
                        }
                    } else {
                        const msg = (() => {
                            switch (error.code) {
                                case 'auth/unauthorized-domain':
                                    return 'This domain is not authorized for Google sign-in. Please open the site from its configured domain.';
                                case 'auth/cancelled-popup-request':
                                    return 'Another sign-in attempt was in progress. Please try again.';
                                default:
                                    return 'An error occurred during Google sign-in. Please try again.';
                            }
                        })();
                        showLoginError(msg);
                    }
                } finally {
                    btn.disabled = false;
                    btn.innerHTML = originalHtml;
                }
            }));
        })();

        if (signUpBtn) {
            signUpBtn.addEventListener('click', () => {
                const name = signUpNameInput.value;
                const email = signUpEmailInput.value;
                const password = signUpPasswordInput.value;
                const confirmPassword = confirmPasswordInput.value;
                if (!name || !email || !password || !confirmPassword) { showSignUpError('Please fill in all fields'); return; }
                if (password !== confirmPassword) { showSignUpError('Passwords do not match'); return; }
                if (password.length < 6) { showSignUpError('Password must be at least 6 characters long'); return; }
                signUpBtn.disabled = true;
                signUpBtn.innerHTML = '<span><i class="fas fa-spinner fa-spin"></i> Creating account...</span>';
                auth.createUserWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        // Save display name to Firebase Auth profile
                        return userCredential.user.updateProfile({ displayName: name })
                            .catch(() => {})
                            .then(() => db.collection('users').doc(userCredential.user.uid).set({
                            name: name,
                            email: email,
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        })).then(async () => {
                            try { await userCredential.user.sendEmailVerification(); } catch(_) {}
                            document.getElementById('verifyEmailTarget').textContent = email;
                            setAuthPage('verify');
                            showSignUpSuccess('A verification email has been sent. Please verify to complete sign up.');
                        });
                    })
                    .catch((error) => {
                        signUpBtn.disabled = false;
                        signUpBtn.innerHTML = '<span>Create Account</span>';
                        showSignUpError((() => {
                            switch(error.code){
                                case 'auth/invalid-email': return 'Invalid email address format.';
                                case 'auth/email-already-in-use': return 'This email is already registered.';
                                case 'auth/weak-password': return 'Password should be at least 6 characters.';
                                default: return 'An error occurred during sign up. Please try again.';
                            }
                        })());
                    });
            });
        }

        // Verify page actions
        const resendVerifyBtn = document.getElementById('resendVerifyBtn');
        const iVerifiedBtn = document.getElementById('iVerifiedBtn');
        const verifyErrorMessage = document.getElementById('verifyErrorMessage');
        if (resendVerifyBtn) resendVerifyBtn.addEventListener('click', async () => {
            verifyErrorMessage.style.display = 'none';
            const user = auth.currentUser;
            if (!user) { setAuthPage('login'); return; }
            try {
                await user.sendEmailVerification();
                const info = document.getElementById('verifyInfoMessage');
                if (info) { info.style.display = 'block'; info.textContent = 'Verification email re-sent. Please check your inbox.'; }
            } catch (e) {
                verifyErrorMessage.textContent = 'Failed to send verification email. Please try again later.';
                verifyErrorMessage.style.display = 'block';
            }
        });
        if (iVerifiedBtn) iVerifiedBtn.addEventListener('click', async () => {
            verifyErrorMessage.style.display = 'none';
            const user = auth.currentUser;
            if (!user) { setAuthPage('login'); return; }
            try {
                await user.reload();
                if (user.emailVerified) {
                    showLoginSuccess('Email verified! You are now signed in.');
                    authModal.style.display = 'none';
                } else {
                    verifyErrorMessage.textContent = 'Not verified yet. Please click the link in your email and try again.';
                    verifyErrorMessage.style.display = 'block';
                }
            } catch (_) {
                verifyErrorMessage.textContent = 'Could not confirm verification. Please try again.';
                verifyErrorMessage.style.display = 'block';
            }
        });

        if (forgotPasswordLink) {
            forgotPasswordLink.addEventListener('click', (e) => {
                e.preventDefault();
                const email = loginEmailInput.value || prompt('Please enter your email address:');
                if (!email) { showLoginError('Please enter your email first'); return; }
                auth.sendPasswordResetEmail(email)
                    .then(() => { showLoginSuccess('Password reset email sent! Check your inbox.'); })
                    .catch((error) => { showLoginError('Failed to send reset email. Please try again.'); });
            });
        }
    </script>
</body>
</html>
