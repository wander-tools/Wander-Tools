<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="favicon.png" sizes="32x32" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wander Tools - Free Online Tools: PDF Converter, Image Tools, SEO Tools</title>
    <meta name="description" content="Free online tools all in one place. Convert PDF to Word, resize images, remove backgrounds, compress files, SEO tools, currency converter and more. Your complete online toolkit.">
    <meta name="keywords" content="wander tools, pdf converter, image converter, all in one tools, background remover, image compressor, image resizer, pdf to word, word to pdf, image to pdf, seo tools, currency exchange rate, free online tools, file converter, web tools, developer tools, text tools, color tools">
    <meta name="author" content="Wander Tools">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://wander.tools.site">
    <meta property="og:title" content="Wander Tools - Your Complete Online Toolkit">
    <meta property="og:description" content="Free online tools all in one place. Convert, calculate, compress, and simplify your everyday tasks.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wander.tools.site">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --gray-color: #6c757d;
            --success-color: #4bb543;
            --danger-color: #ff3333;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --footer-bg: #212529;
            --footer-text: #f8f9fa;
            /* Electric border theme-aware colors */
            --electric-1: #00caff;
            --electric-2: #7cffd4;
            --electric-3: #4c6fff;
            --electric-glow: rgba(72, 149, 239, 0.55);
        }

        [data-theme="dark"] {
            --primary-color: #4895ef;
            --secondary-color: #4361ee;
            --light-color: #121212;
            --dark-color: #e9ecef;
            --gray-color: #adb5bd;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            --footer-bg: #121416;
            --footer-text: #e9ecef;
            --electric-1: #00f0ff;
            --electric-2: #9cffb8;
            --electric-3: #6f86ff;
            --electric-glow: rgba(0, 240, 255, 0.35);
        }

        [data-theme="dark"] .tool-card {
            background-color: rgb(30, 30, 30);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
            transition: var(--transition);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 1.5rem 0;
            box-shadow: var(--box-shadow);
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i {
            font-size: 2rem;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .nav-links {
            display: flex;
            gap: 25px;
            align-items: center;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 8px 0;
            position: relative;
        }
        
        .nav-links a:hover {
            opacity: 0.9;
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: white;
            transition: var(--transition);
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .contact-info {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 1.4rem 0; /* reduced top/bottom spacing */
        }
        
        .header-content h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            max-width: 700px;
            line-height: 1.3;
            min-height: 1.3em; /* prevent layout shift during type/erase */
        }
        
        .header-content p {
            font-size: 1.2rem;
            margin-bottom: 1.1rem; /* tighter gap under subtitle */
            max-width: 700px;
            opacity: 0.9;
            line-height: 1.5;
            min-height: 1.6em; /* keep header height fixed while text is erased */
        }
        
        .header-buttons {
            display: flex;
            gap: 12px;
            margin-bottom: 1.1rem; /* tighter below buttons */
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .cta-button {
            display: inline-block;
            padding: 12px 30px;
            background-color: white;
            color: var(--primary-color);
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }
        
        .download-button {
            display: inline-block;
            padding: 12px 30px;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .download-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        .header-search-container {
            margin-top: 1.1rem; /* reduced gap above search */
            width: 100%;
            max-width: 600px;
            position: relative;
            color: rgb(180, 192, 202);
        }
        
        .header-search-bar {
            width: 100%;
            padding: 15px 20px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .clear-icon {
            position: absolute;
            right: 42px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-color);
            font-size: 1.1rem;
            cursor: pointer;
            display: none;
            padding: 6px;
            border-radius: 50%;
            transition: var(--transition);
        }
        .clear-icon:hover { background: rgba(0,0,0,0.06); }

        .header-search-bar:focus {
            outline: none;
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.3);
            transform: scale(1.02);
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-color);
            font-size: 1.2rem;
            transition: var(--transition);
        }
        
        .header-search-bar:focus + .search-icon {
            color: var(--primary-color);
            transform: translateY(-50%) scale(1.1);
        }

        /* Theme Toggle */
        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            margin-left: 20px;
            padding: 8px 12px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            transform: rotate(30deg);
            background: rgba(255, 255, 255, 0.3);
        }

        /* Email Link */
        .email-link {
            color: white;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .email-link:hover {
            text-decoration: underline;
        }

        /* Dropdown Menu - Fixed for dark mode */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-button {
            color: white;
            background: none;
            border: none;
            font-weight: 500;
            cursor: pointer;
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .dropdown-content {
            position: absolute;
            min-width: 220px;
            box-shadow: 0 12px 24px rgba(0,0,0,0.20);
            z-index: 1;
            border-radius: var(--border-radius);
            overflow: hidden;
            top: 100%;
            left: 0;
            background-color: white;
            /* animated reveal */
            opacity: 0;
            transform: translateY(8px) scaleY(0.96);
            transform-origin: top center;
            visibility: hidden;
            pointer-events: none;
            transition: opacity .22s ease, transform .22s ease, visibility .22s ease;
        }

        [data-theme="dark"] .dropdown-content {
            background-color: #2d2d2d;
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
        }

        .dropdown-content a {
            color: var(--dark-color);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: var(--transition);
            font-size: 0.9rem;
            background-color: white;
        }

        [data-theme="dark"] .dropdown-content a {
            color: #e9ecef;
            background-color: #2d2d2d;
        }

        .dropdown-content a:hover {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
        }

        [data-theme="dark"] .dropdown-content a:hover {
            background-color: rgba(72, 149, 239, 0.2);
            color: var(--primary-color);
        }

        .dropdown-content::before {
            content: '';
            position: absolute;
            top: 0; left: 0; height: 3px; width: 0;
            background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
            transition: width .3s ease;
        }

        .dropdown:hover .dropdown-content {
            opacity: 1;
            transform: translateY(0) scaleY(1);
            visibility: visible;
            pointer-events: auto;
        }
        .dropdown:hover .dropdown-content::before { width: 100%; }

        /* Dropdown button underline + chevron rotate */
        .dropdown-button { position: relative; }
        .dropdown-button i.fa-chevron-down { transition: transform .25s ease; }
        .dropdown:hover .dropdown-button i.fa-chevron-down { transform: rotate(180deg); }
        .dropdown-button::after {
            content: '';
            position: absolute;
            left: 0; bottom: -4px; height: 2px; width: 0;
            background: rgba(255,255,255,0.85);
            transition: width .25s ease;
        }
        .dropdown:hover .dropdown-button::after { width: 100%; }

        /* Auth/Profile Dropdown */
        .auth-area { display: flex; align-items: center; gap: 10px; }
        .auth-buttons { display: flex; gap: 10px; }
        .auth-button { background-color: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 8px 14px; border-radius: 20px; cursor: pointer; transition: var(--transition); font-weight: 600; }
        .auth-button:hover { background-color: rgba(255,255,255,0.3); transform: translateY(-2px); }
        /* Distinct styles for Login vs Sign Up */
        #openLogin { background-color: #ffffff; color: var(--primary-color); border-color: transparent; }
        #openLogin:hover { background-color: #eef2ff; }
        #openSignUp { background-color: var(--secondary-color); color: #ffffff; border-color: rgba(255,255,255,0.15); }
        #openSignUp:hover { background-color: var(--primary-color); }
        .profile { position: relative; }
        .profile-toggle { display: flex; align-items: center; gap: 10px; background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 8px 14px; border-radius: 22px; cursor: pointer; }
        .profile-toggle .fa-user-circle { font-size: 1.35rem; }
        .profile-avatar { width: 22px; height: 22px; border-radius: 50%; object-fit: cover; display: inline-block; }
        .profile-menu { position: absolute; top: 110%; right: 0; background: white; border-radius: var(--border-radius); box-shadow: var(--box-shadow); display: none; min-width: 180px; overflow: hidden; z-index: 100; }
        [data-theme="dark"] .profile-menu { background: #2d2d2d; }
        .profile-menu a, .profile-menu button { display: block; width: 100%; text-align: left; padding: 10px 14px; border: none; background: transparent; cursor: pointer; color: var(--dark-color); text-decoration: none; }
        [data-theme="dark"] .profile-menu a, [data-theme="dark"] .profile-menu button { color: #e9ecef; }
        .profile-menu a:hover, .profile-menu button:hover { background-color: rgba(67,97,238,0.1); color: var(--primary-color); }

        /* Download Apps Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: var(--light-color);
            margin: 10% auto;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 90%;
            max-width: 500px;
            position: relative;
            animation: modalopen 0.3s;
        }

        @keyframes modalopen {
            from {opacity: 0; transform: translateY(-50px);} 
            to {opacity: 1; transform: translateY(0);} 
        }

        .close-button {
            color: var(--gray-color);
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }

        .close-button:hover {
            color: var(--dark-color);
        }

        .modal-title {
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .download-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .download-option {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: rgba(67, 97, 238, 0.1);
            border-radius: var(--border-radius);
            transition: var(--transition);
            cursor: pointer;
            text-decoration: none;
            color: var(--dark-color);
        }

        .download-option:hover {
            background-color: rgba(67, 97, 238, 0.2);
            transform: translateX(5px);
        }

        .download-option i {
            margin-right: 15px;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .download-option span {
            font-weight: 500;
        }

        /* Embedded Auth Card (scoped) */
        .auth-card { width: 100%; max-width: 520px; background: white; border-radius: 16px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); overflow: hidden; margin: 5% auto; }
        [data-theme="dark"] .auth-card { background: rgb(30,30,30); border: 1px solid #444; }
        .auth-header { background: #4a6bff; color: #fff; padding: 18px 20px; position: relative; text-align: center; }
        .auth-header .logo { width: 60px; height: 60px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .auth-header .logo i { color: #4a6bff; font-size: 28px; }
        .auth-body { padding: 20px; }
        .auth-input { width: 100%; padding: 12px 14px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; transition: all 0.3s; background: white; color: #333; }
        [data-theme="dark"] .auth-input { background: #333; border-color: #555; color: #eee; }
        .auth-input:focus { border-color: #4a6bff; outline: none; box-shadow: 0 0 0 3px rgba(74,107,255,0.2); }
        .auth-group { margin-bottom: 16px; }
        .auth-label { display: block; margin-bottom: 6px; font-weight: 500; }
        .auth-btn { width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .auth-btn-primary { background: #4a6bff; color: #fff; }
        .auth-btn-primary:hover { background: #3a5be0; transform: translateY(-2px); }
        /* Google buttons styled to match theme */
        .auth-btn-google { 
            background: rgba(67, 97, 238, 0.10);
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }
        .auth-btn-google i { color: inherit; }
        .auth-btn-google:hover { 
            background: var(--primary-color); 
            color: #fff; 
            transform: translateY(-2px);
        }
        [data-theme="dark"] .auth-btn-google { 
            background: rgba(72, 149, 239, 0.18);
            color: var(--primary-color);
            border-color: var(--primary-color);
        }
        [data-theme="dark"] .auth-btn-google:hover { 
            background: var(--primary-color); 
            color: #fff;
        }
        .auth-sep { display: flex; align-items: center; margin: 18px 0; color: #777; }
        .auth-sep::before, .auth-sep::after { content: ""; flex: 1; border-bottom: 1px solid #ddd; }
        .auth-sep span { padding: 0 10px; font-size: 14px; }
        .auth-footer { text-align: center; margin-top: 10px; color: #666; font-size: 14px; }
        .auth-footer a { color: #4a6bff; text-decoration: none; font-weight: 600; }
        .auth-msg { padding: 10px; border-radius: 8px; margin-bottom: 12px; text-align: center; display: none; }
        .auth-msg.error { background: #ffebee; color: #d32f2f; border: 1px solid #ffcdd2; }
        .auth-msg.success { background: #e8f5e9; color: #388e3c; border: 1px solid #c8e6c9; }
        .auth-password-container { position: relative; }
        .auth-toggle-password { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); cursor: pointer; color: #777; }
        .auth-back-btn { position: absolute; top: 14px; left: 14px; background: rgba(255,255,255,0.2); width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; cursor: pointer; border: 1px solid rgba(255,255,255,0.35); }
        .auth-close { position: absolute; top: 14px; right: 14px; background: rgba(255,255,255,0.2); width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; cursor: pointer; border: 1px solid rgba(255,255,255,0.35); }
        .auth-page { display: none; }
        .auth-page.active { display: block; }

        /* Main Content Styles */
        .main-title {
            text-align: center;
            margin: 2rem 0;
        }

        .main-title h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .main-title p {
            color: var(--gray-color);
        }

        /* Search Results Styles */
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--light-color);
            border: 1px solid var(--gray-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 10;
            max-height: 360px;
            overflow-y: auto;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .search-result-item {
            padding: 10px 20px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }
        .search-result-item .badge { display:inline-block; font-size: .72rem; padding: 2px 8px; border-radius: 999px; background: rgba(67,97,238,.12); color: var(--primary-color); margin-top: 4px; width:max-content; }
        .search-result-item.active { background: rgba(67,97,238,0.08); }
        .search-results .empty { padding: 12px 20px; color: var(--gray-color); }
        .search-results .section-title-small { padding:8px 12px; font-size:.8rem; color: var(--gray-color); background: rgba(0,0,0,0.03); position: sticky; top:0; }

        .search-result-item:hover {
            background-color: rgba(67, 97, 238, 0.1);
        }

        .search-result-item strong {
            color: var(--primary-color);
        }

        .search-result-item span {
            font-size: 0.8rem;
            color: var(--gray-color);
        }

        /* Category Section Styles */
        .category-section {
            margin: 3rem 0;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: var(--primary-color);
        }

        /* Category Filter Buttons */
        .category-filter-section { margin: 1.5rem 0 2rem; }
        .filter-bar { display:flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
        .filter-btn { padding: 8px 14px; border-radius: 20px; border: 1px solid rgba(0,0,0,0.1); background:#fff; color: var(--dark-color); cursor:pointer; transition: var(--transition); font-weight:600; box-shadow: var(--box-shadow); position: relative; z-index: 0; }
        [data-theme="dark"] .filter-btn { background: #2d2d2d; color:#e9ecef; border-color:#444; }
        .filter-btn:hover { transform: translateY(-2px); border-color: transparent; }
        .filter-btn.active { background: var(--primary-color); color:#fff; border-color: transparent; }

        /* Multi-color animated border ring for category buttons */
        .filter-btn::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 22px;
            padding: 2px;
            --angle: 0deg;
            background: conic-gradient(from var(--angle), #4285F4, #34A853, #FBBC05, #EA4335, #4285F4);
            -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events: none;
            opacity: 0; /* show on hover/active */
            transition: opacity .2s ease;
            z-index: -1;
        }
        .filter-btn:hover::after, .filter-btn.active::after {
            opacity: 1;
            animation: spinAngle 2.2s linear infinite;
            filter: drop-shadow(0 0 6px rgba(66,133,244,0.35)) drop-shadow(0 0 6px rgba(52,168,83,0.28)) drop-shadow(0 0 6px rgba(251,188,5,0.26)) drop-shadow(0 0 6px rgba(234,67,53,0.28));
        }
        [data-theme="dark"] .filter-btn:hover::after, [data-theme="dark"] .filter-btn.active::after {
            filter: drop-shadow(0 0 7px rgba(66,133,244,0.45)) drop-shadow(0 0 7px rgba(52,168,83,0.36)) drop-shadow(0 0 7px rgba(251,188,5,0.34)) drop-shadow(0 0 7px rgba(234,67,53,0.36));
        }

        /* Smooth show/hide animations for sections */
        .category-section { transition: max-height 0.35s ease, opacity 0.25s ease, transform 0.25s ease; overflow: visible; }
        .category-section.is-hidden { opacity: 0; transform: scale(0.98); max-height: 0 !important; margin-top: 0 !important; margin-bottom: 0 !important; padding-top: 0 !important; padding-bottom: 0 !important; overflow: hidden; }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(275px, 1fr));
            gap: 20px;
        }

        .tool-card {
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            transition: var(--transition);
            border: 1px solid var(--primary-color);
            position: relative;
            overflow: visible;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1), 0 0 18px rgba(72,149,239,0.18), 0 0 32px rgba(67,97,238,0.12);
            border-color: transparent; /* remove blue border on hover */
            animation: toolCardGlow 2.2s ease-in-out infinite alternate;
        }

        /* Google TV-style multi-color animated border for tool cards */
        .tool-card::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: var(--border-radius);
            padding: 4px; /* thicker ring to avoid any bleed onto content */
            --angle: 0deg; /* drives color circulation */
            background: conic-gradient(
                from var(--angle),
                #4285F4,
                #34A853,
                #FBBC05,
                #EA4335,
                #4285F4
            );
            background-size: 100% 100%;
            -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events: none;
            opacity: 0; /* hidden until hover */
            animation: none; /* static by default */
            transform: scale(0.965);
            transition: opacity .45s ease, transform .45s ease;
            z-index: 0; /* stay behind gloss/content rendering order but still above background via masking */
        }

        .tool-card:hover::after {
            opacity: 0.9;
            transform: scale(1);
            animation: spinAngle 2.4s linear infinite .2s; /* slower circulation and slightly longer reveal delay */
            filter: drop-shadow(0 0 6px rgba(66,133,244,0.35))
                    drop-shadow(0 0 6px rgba(52,168,83,0.28))
                    drop-shadow(0 0 6px rgba(251,188,5,0.26))
                    drop-shadow(0 0 6px rgba(234,67,53,0.28));
        }

        /* Border-only glow using drop-shadows on the border ring */
        .tool-card:hover::after {
            filter: drop-shadow(0 0 6px rgba(66,133,244,0.35))
                    drop-shadow(0 0 6px rgba(52,168,83,0.28))
                    drop-shadow(0 0 6px rgba(251,188,5,0.26))
                    drop-shadow(0 0 6px rgba(234,67,53,0.28));
        }
        [data-theme="dark"] .tool-card:hover::after {
            filter: drop-shadow(0 0 7px rgba(66,133,244,0.45))
                    drop-shadow(0 0 7px rgba(52,168,83,0.36))
                    drop-shadow(0 0 7px rgba(251,188,5,0.34))
                    drop-shadow(0 0 7px rgba(234,67,53,0.36));
        }

        /* Animate gradient angle instead of rotating element */
        @property --angle {
            syntax: '<angle>';
            inherits: false;
            initial-value: 0deg;
        }
        @keyframes spinAngle {
            to { --angle: 360deg; }
        }

        /* Soft pulsing glow for tool cards */
        @keyframes toolCardGlow {
            0% { box-shadow: 0 10px 20px rgba(0,0,0,0.1), 0 0 14px rgba(72,149,239,0.14), 0 0 26px rgba(67,97,238,0.10); }
            100% { box-shadow: 0 14px 26px rgba(0,0,0,0.12), 0 0 22px rgba(72,149,239,0.22), 0 0 36px rgba(67,97,238,0.16); }
        }

        /* Dark mode tuning for card glow */
        [data-theme="dark"] .tool-card:hover {
            box-shadow: 0 12px 26px rgba(0,0,0,0.35), 0 0 18px rgba(72,149,239,0.24), 0 0 34px rgba(67,97,238,0.18);
        }

        /* Typewriter caret helper */
        .typing-caret::after {
            content: '';
            display: inline-block;
            width: 2px;
            height: 1em;
            background: currentColor;
            margin-left: 3px;
            animation: caretBlink 1s steps(1, end) infinite;
            vertical-align: -0.1em;
        }
        @keyframes caretBlink { 0%, 49% { opacity: 1; } 50%, 100% { opacity: 0; } }

        .rotating-line { font-size: 1.05rem; opacity: 0.95; min-height: 1.4em; }

        /* ===== Mouse Tracing (cursor trail) ===== */
        .cursor-trail-dot {
            position: fixed;
            top: 0; left: 0;
            width: 10px; height: 10px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 10000;
            opacity: 0;
            transform: translate(-50%, -50%) scale(1);
            filter: blur(2px);
            background: radial-gradient(circle at 30% 30%, var(--accent-color), var(--primary-color));
            mix-blend-mode: screen;
            transition: opacity 0.25s ease;
        }
        .cursor-trail-dot.is-active { opacity: 0.9; }
        .cursor-trail-dot.is-fading { opacity: 0; transition: opacity 0.6s ease; }
        @media (prefers-reduced-motion: reduce) { .cursor-trail-dot { display: none !important; } }

        /* Dark mode: keep border clear without extra glow */
        [data-theme="dark"] .tool-card::after { opacity: 0; }
        [data-theme="dark"] .tool-card:hover::after {
            opacity: 0.9;
            transform: scale(1);
            animation: spinAngle 2.4s linear infinite .2s;
        }

        .tool-card h3 {
            margin-bottom: 10px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tool-card p {
            color: var(--gray-color);
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .tool-card a {
            display: inline-block;
            padding: 8px 15px;
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: var(--transition);
            font-size: 0.9rem;
            position: relative;
            z-index: 0;
            outline: 2px solid transparent;
            border: 2px solid transparent;
            /* Default: no visible border */
            background: linear-gradient(var(--primary-color), var(--primary-color)) padding-box;
            background-origin: padding-box;
            background-clip: padding-box;
            background-size: auto;
            background-position: 0 0;
            overflow: hidden; /* contain gloss sweep */
        }

        .tool-card a:hover {
            outline-color: transparent; /* border handled by ring */
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 18px rgba(67, 97, 238, 0.18);
        }

        /* Multi-color border ring for Use Tool buttons (hover like filter buttons) */
        .tool-card a::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: var(--border-radius);
            padding: 2px;
            --angle: 0deg;
            background: conic-gradient(from var(--angle), #4285F4, #34A853, #FBBC05, #EA4335, #4285F4);
            -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            pointer-events: none;
            transition: opacity .2s ease;
            z-index: -1;
        }
        .tool-card a:hover::before {
            opacity: 1;
            animation: spinAngle 2.2s linear infinite;
            filter: drop-shadow(0 0 6px rgba(66,133,244,0.35)) drop-shadow(0 0 6px rgba(52,168,83,0.28)) drop-shadow(0 0 6px rgba(251,188,5,0.26)) drop-shadow(0 0 6px rgba(234,67,53,0.28));
        }

        /* Static gloss effect (no animation) */
        .tool-card a::after {
            content: '';
            position: absolute;
            inset: 2px;
            border-radius: calc(var(--border-radius) - 2px);
            background: linear-gradient(180deg,
                rgba(255,255,255,0.35) 0%,
                rgba(255,255,255,0.15) 35%,
                rgba(255,255,255,0.06) 55%,
                rgba(255,255,255,0.00) 100%
            );
            pointer-events: none;
            z-index: 1;
            mix-blend-mode: screen;
            opacity: 0.6;
            transition: opacity .25s ease;
        }

        /* Tone down gloss in dark mode */
        [data-theme="dark"] .tool-card a::after {
            background: linear-gradient(180deg,
                rgba(255,255,255,0.12) 0%,
                rgba(255,255,255,0.06) 35%,
                rgba(255,255,255,0.02) 55%,
                rgba(255,255,255,0.00) 100%
            );
            mix-blend-mode: screen;
            opacity: 0.45;
        }

        /* Slight gloss lift on hover for Use Tool button */
        .tool-card a:hover::after { opacity: 0.85; }
        [data-theme="dark"] .tool-card a:hover::after { opacity: 0.6; }

        @keyframes electricBorderBg {
            0% { background-position: 0 0, 0% 50%; }
            100% { background-position: 0 0, 200% 50%; }
        }

        /* Dark mode: no border by default (only on hover) */
        [data-theme="dark"] .tool-card a {
            background: linear-gradient(var(--primary-color), var(--primary-color)) padding-box;
            background-origin: padding-box;
            background-clip: padding-box;
            background-size: auto;
            background-position: 0 0;
        }
        
        /* Dark mode: same hover behaviour */
        [data-theme="dark"] .tool-card a:hover {
            animation: none;
            outline-color: transparent;
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 18px rgba(67, 97, 238, 0.22);
        }
        
        @keyframes electricBorderBgDark {
            0% { background-position: 0 0, 0% 50%; }
            100% { background-position: 0 0, 220% 50%; }
        }
        /* keep single definition above */

        /* Dark mode: ring with tuned glow */
        [data-theme="dark"] .tool-card a::before { opacity: 0; }
        [data-theme="dark"] .tool-card a:hover::before { opacity: 1; animation: spinAngle 2.2s linear infinite; filter: drop-shadow(0 0 7px rgba(66,133,244,0.45)) drop-shadow(0 0 7px rgba(52,168,83,0.36)) drop-shadow(0 0 7px rgba(251,188,5,0.34)) drop-shadow(0 0 7px rgba(234,67,53,0.36)); }

        /* Feedback Section Styles */
        .feedback-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 3rem 0;
            margin: 3rem 0 0;
        }
        
        .feedback-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .feedback-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary-color);
        }
        
        .feedback-form {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }
        
        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }
        
        .submit-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-block;
        }
        
        .submit-button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }
        
        .alert {
            padding: 12px 15px;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            display: none;
        }
        
        .alert-success {
            background-color: rgba(75, 181, 67, 0.2);
            color: var(--success-color);
            border: 1px solid var(--success-color);
        }
        
        .alert-error {
            background-color: rgba(255, 51, 51, 0.2);
            color: var(--danger-color);
            border: 1px solid var(--danger-color);
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        .privacy-note {
            margin-top: 1rem;
            font-size: 0.8rem;
            color: var(--gray-color);
            text-align: center;
        }
        
        [data-theme="dark"] .feedback-section {
            background: linear-gradient(135deg, #2d2d2d 0%, #1e1e1e 100%);
        }
        
        [data-theme="dark"] .feedback-form {
            background-color: rgb(30, 30, 30);
            border: 1px solid #444;
        }
        
        [data-theme="dark"] .form-control {
            background-color: #333;
            border-color: #555;
            color: #eee;
        }

        /* Footer Styles */
        footer {
            background-color: var(--footer-bg);
            color: var(--footer-text);
            padding: 3rem 0 1rem;
            margin-top: 0;
        }

        /* FAQ Styles */
        .faq-section { padding: 2.5rem 0; }
        .faq-title { text-align: center; margin-bottom: 1.5rem; color: var(--primary-color); }
        .faq { max-width: 900px; margin: 0 auto; }
        .faq-item { border: 1px solid rgba(0,0,0,0.1); border-radius: var(--border-radius); margin-bottom: 10px; background: var(--light-color); box-shadow: var(--box-shadow); overflow: hidden; }
        [data-theme="dark"] .faq-item { background: rgb(30,30,30); border-color: #444; }
        .faq-question { width: 100%; text-align: left; padding: 14px 16px; font-weight: 600; background: none; border: none; cursor: pointer; display:flex; justify-content: space-between; align-items:center; color: var(--dark-color); }
        [data-theme="dark"] .faq-question { color: #e9ecef; }
        .faq-question i { color: var(--primary-color); transition: transform .25s ease; }
        .faq-answer { padding: 0 16px; max-height: 0; overflow: hidden; transition: max-height .35s ease, padding .25s ease; color: var(--gray-color); }
        .faq-item.active .faq-answer { padding: 0 16px 14px; }
        .faq-item.active .faq-question i { transform: rotate(180deg); }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 2rem;
        }

        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: white;
        }

        .footer-column p {
            color: var(--gray-color);
            margin-bottom: 15px;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: var(--gray-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-column ul li a:hover {
            color: var(--footer-text);
            text-decoration: underline;
            text-underline-offset: 2px;
        }

        .social-links {
            display: flex;
            gap: 15px;
        }

        .social-links a {
            color: white;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .social-links a:hover {
            color: var(--primary-color);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--gray-color);
            font-size: 0.9rem;
        }

        /* Improved Back-to-Top floating button */
        #scrollToTop {
            position: fixed;
            right: 24px;
            bottom: 24px;
            width: 48px;
            height: 48px;
            padding: 0;
            border-radius: 50%;
            display: none; /* will show after scroll */
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            backdrop-filter: blur(4px);
            background: rgba(255,255,255,0.92);
            color: var(--primary-color);
            border: 1px solid rgba(67,97,238,0.25);
            transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
        }
        #scrollToTop i { pointer-events: none; }
        #scrollToTop::after {
            content: '';
            position: absolute;
            inset: -3px;
            border-radius: 50%;
            padding: 3px;
            background: conic-gradient(var(--primary-color) calc(var(--progress, 0%) ), rgba(0,0,0,0.12) 0);
            -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events: none;
        }
        #scrollToTop:hover { transform: translateY(-2px) scale(1.04); box-shadow: 0 12px 24px rgba(67,97,238,0.25); }
        
        /* Dark mode highlight for Back-to-Top */
        [data-theme="dark"] #scrollToTop {
            background: rgba(20,22,26,0.85);
            color: #8bd3ff;
            border: 1px solid rgba(0,240,255,0.25);
            box-shadow: 0 12px 24px rgba(0,0,0,0.45);
        }
        [data-theme="dark"] #scrollToTop:hover { box-shadow: 0 14px 28px rgba(0, 240, 255, 0.25); }

        /* Highlight effect for search navigation */
        .highlight {
            animation: highlight 2s ease;
        }

        @keyframes highlight {
            0% { background-color: rgba(67, 97, 238, 0.2); }
            100% { background-color: transparent; }
        }

        /* Smooth scrolling for anchor links */
        html {
            scroll-behavior: smooth;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                gap: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .header-content h2 {
                font-size: 2rem;
            }
            
            .header-content p {
                font-size: 1.1rem;
            }
            
            .header-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .tools-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }

            .dropdown-content {
                left: -50px;
            }
            
            .feedback-form {
                padding: 1.5rem;
            }
            
            /* Footer 2 columns on mobile */
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .header-content h2 {
                font-size: 1.8rem;
            }
            
            .header-content p {
                font-size: 1rem;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }

            .contact-info {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .feedback-form {
                padding: 1rem;
            }
            
            /* Footer 2 columns on small mobile */
            .footer-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header class="header" id="header">
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <i class="fas fa-tools"></i>
                    <h1>Wander Tools</h1>
                </div>
                
                <nav class="nav-links">
                    <a href="#header">Home</a>
                    <a href="#home">Tools</a>
                    
                    <!-- Dropdown Menu -->
                    <div class="dropdown">
                        <button class="dropdown-button">Categories <i class="fas fa-chevron-down"></i></button>
                        <div class="dropdown-content">
                            <a href="#image-tools">Image Tools</a>
                            <a href="#file-tools">File Tools</a>
                            <a href="#analytics-tools">Analytics Tools</a>
                            <a href="#seo-tools">SEO & Web Tools</a>
                            <a href="#math-tools">Math & Utility Tools</a>
                            <a href="#text-tools">Text Tools</a>
                            <a href="#developer-tools">Developer Tools</a>
                            <a href="#color-tools">Color Tools</a>
                        </div>
                    </div>
                    
                    <a href="#faq">FAQ</a>
                    <a href="#feedback">Feedback</a>
                    <a href="#contact">Contact</a>
                </nav>
                
                <div class="contact-info">
                    <a href="mailto:wander.tools.site@gmail.com" class="email-link">
                        <i class="fas fa-envelope"></i>
                        <span>wander.tools.site@gmail.com</span>
                    </a>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon" id="themeIcon"></i>
                    </button>
                    <div class="auth-area" id="authArea"></div>
                </div>
            </div>
            
            <div class="header-content">
                <h2>Your Daily Tools, All in One Place</h2>
                <p>Convert, calculate, compress, and simplify your everyday tasks - fast and free.</p>
                <p id="rotatingLine" class="rotating-line"></p>
                
                <div class="header-buttons">
                    <a href="#home" class="cta-button">Explore Tools</a>
                    <a href="#" class="download-button" id="downloadButton">Download Apps</a>
                    <div class="auth-buttons" id="headerAuthButtons" style="display:none;">
                        <button class="auth-button" id="openLogin">Login</button>
                        <button class="auth-button" id="openSignUp">Sign Up</button>
                    </div>
                </div>
                
                <div class="header-search-container">
                    <input type="text" class="header-search-bar" placeholder="Search a tool..." id="headerSearchInput">
                    <i class="fas fa-times clear-icon" id="searchClear" title="Clear"></i>
                    <i class="fas fa-search search-icon"></i>
                    <div class="search-results" id="searchResults"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- Download Apps Modal -->
    <div id="downloadModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeModal">&times;</span>
            <h3 class="modal-title"><i class="fas fa-download"></i> Download Our Apps</h3>
            <div class="download-options">
                <a href="wander-tools.apk" class="download-option" download>
                    <i class="fab fa-android"></i>
                    <span>Download Android App</span>
                </a>
                <a href="path/to/ios-app.ipa" class="download-option" download>
                    <i class="fab fa-apple"></i>
                    <span>Download iOS App</span>
                </a>
                <a href="path/to/android-pad-app.apk" class="download-option" download>
                    <i class="fas fa-tablet-alt"></i>
                    <span>Download Android Pad App</span>
                </a>
                <a href="path/to/ipad-app.ipa" class="download-option" download>
                    <i class="fas fa-tablet-alt"></i>
                    <span>Download iPad App</span>
                </a>
                <a href="path/to/windows-app.exe" class="download-option" download>
                    <i class="fab fa-windows"></i>
                    <span>Download Windows Application</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="modal" style="display:none; align-items:center; justify-content:center;">
        <div class="auth-card">
            <div id="loginPage" class="auth-page active">
                <div class="auth-header">
                    <button class="auth-close" id="authCloseBtn" title="Close"><i class="fas fa-times"></i></button>
                    <div class="logo"><i class="fas fa-tools"></i></div>
                    <h2>Welcome to Wander Tools</h2>
                    <p>Sign in to access your tools and preferences</p>
                </div>
                <div class="auth-body">
                    <div id="loginErrorMessage" class="auth-msg error"></div>
                    <div id="loginSuccessMessage" class="auth-msg success"></div>
                    <div class="auth-group">
                        <label class="auth-label" for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" class="auth-input" placeholder="Enter your email">
                    </div>
                    <div class="auth-group">
                        <label class="auth-label" for="loginPassword">Password</label>
                        <div class="auth-password-container">
                            <input type="password" id="loginPassword" class="auth-input" placeholder="Enter your password">
                            <span class="auth-toggle-password" id="toggleLoginPassword"><i class="far fa-eye"></i></span>
                        </div>
                    </div>
                    <button id="loginBtn" class="auth-btn auth-btn-primary"><span>Sign In</span></button>
                    <div class="auth-sep"><span>OR</span></div>
                    <button id="googleLoginBtn" class="auth-btn auth-btn-google"><i class="fab fa-google"></i> Sign in with Google</button>
                    <div class="auth-footer">
                        <p>Don't have an account? <a href="#" id="showSignUpLink">Sign up</a></p>
                        <p><a href="#" id="forgotPasswordLink">Forgot password?</a></p>
                    </div>
                </div>
            </div>
            <div id="signUpPage" class="auth-page">
                <div class="auth-header">
                    <button class="auth-back-btn" id="backToLogin" title="Back"><i class="fas fa-arrow-left"></i></button>
                    <button class="auth-close" id="authCloseBtn2" title="Close"><i class="fas fa-times"></i></button>
                    <div class="logo"><i class="fas fa-user-plus"></i></div>
                    <h2>Create Account</h2>
                    <p>Join Wander Tools today</p>
                </div>
                <div class="auth-body">
                    <div id="signUpErrorMessage" class="auth-msg error"></div>
                    <div id="signUpSuccessMessage" class="auth-msg success"></div>
                    <div class="auth-group">
                        <label class="auth-label" for="signUpName">Full Name</label>
                        <input type="text" id="signUpName" class="auth-input" placeholder="Enter your full name">
                    </div>
                    <div class="auth-group">
                        <label class="auth-label" for="signUpEmail">Email</label>
                        <input type="email" id="signUpEmail" class="auth-input" placeholder="Enter your email">
                    </div>
                    <div class="auth-group">
                        <label class="auth-label" for="signUpPassword">Password</label>
                        <div class="auth-password-container">
                            <input type="password" id="signUpPassword" class="auth-input" placeholder="Create a password">
                            <span class="auth-toggle-password" id="toggleSignUpPassword"><i class="far fa-eye"></i></span>
                        </div>
                        <div class="password-rules" style="font-size:12px;color:#666;margin-top:6px;">Must be at least 6 characters</div>
                    </div>
                    <div class="auth-group">
                        <label class="auth-label" for="confirmPassword">Confirm Password</label>
                        <div class="auth-password-container">
                            <input type="password" id="confirmPassword" class="auth-input" placeholder="Confirm your password">
                            <span class="auth-toggle-password" id="toggleConfirmPassword"><i class="far fa-eye"></i></span>
                        </div>
                    </div>
                    <button id="signUpBtn" class="auth-btn auth-btn-primary"><span>Create Account</span></button>
                    <div class="auth-sep" style="margin: 18px 0;"><span>OR</span></div>
                    <button id="googleSignUpBtn" class="auth-btn auth-btn-google"><i class="fab fa-google"></i> Continue with Google</button>
                    <div class="auth-footer" style="margin-top:14px;">
                        By creating an account, you agree to our <a href="#">Terms</a> and <a href="#">Privacy</a>
                    </div>
                </div>
            </div>
            <div id="verifyEmailPage" class="auth-page">
                <div class="auth-header">
                    <button class="auth-back-btn" id="verifyBackToLogin" title="Back"><i class="fas fa-arrow-left"></i></button>
                    <button class="auth-close" id="authCloseBtn3" title="Close"><i class="fas fa-times"></i></button>
                    <div class="logo"><i class="fas fa-envelope"></i></div>
                    <h2>Verify your email</h2>
                    <p>We've sent a verification link to <span id="verifyEmailTarget"></span>. Please verify to continue.</p>
                </div>
                <div class="auth-body">
                    <div id="verifyInfoMessage" class="auth-msg success" style="display:block;">Please check your inbox (and spam folder).</div>
                    <div id="verifyErrorMessage" class="auth-msg error"></div>
                    <button id="resendVerifyBtn" class="auth-btn auth-btn-google"><i class="fas fa-paper-plane"></i> Resend verification email</button>
                    <div class="auth-sep"><span>THEN</span></div>
                    <button id="iVerifiedBtn" class="auth-btn auth-btn-primary"><span>I've verified, continue</span></button>
                </div>
            </div>
        </div>
    </div>

    <main class="container">
        <section id="home">
            <div class="main-title">
                <h2>Your Complete Online Toolkit</h2>
                <p>Free, fast and easy-to-use tools for developers, designers, and everyone else</p>
            </div>
        </section>

        <!-- Dynamic Category Filter -->
        <section id="category-filter" class="category-filter-section">
            <div class="filter-bar" id="filterBar"></div>
        </section>

        <!-- Image Tools Section -->
        <section id="image-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-image"></i>
                Image Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-expand"></i> Image Resizer</h3>
                    <p>Resize your images to any dimension while maintaining quality.</p>
                    <a href="tools/image-tools/image-resizer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-exchange-alt"></i> Image Format Converter</h3>
                    <p>Convert between JPG, PNG, WebP and other image formats.</p>
                    <a href="tools/image-tools/image-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-cut"></i> Background Remover</h3>
                    <p>Remove backgrounds from images automatically with AI technology.</p>
                    <a href="tools/image-tools/background-remover.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-compress-alt"></i> Image Compressor</h3>
                    <p>Reduce image file size without noticeable quality loss.</p>
                    <a href="tools/image-tools/image-compressor.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- File Tools Section -->
        <section id="file-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-file"></i>
                File Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-file-pdf"></i> PDF to Word</h3>
                    <p>Convert your PDF documents to editable Word files in seconds.</p>
                    <a href="tools/file-tools/pdf-to-word.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-file-word"></i> Word to PDF</h3>
                    <p>Convert Word documents to PDF format with perfect formatting.</p>
                    <a href="tools/file-tools/word-to-pdf.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-file-image"></i> Image to PDF</h3>
                    <p>Convert one or multiple images to a single PDF document.</p>
                    <a href="tools/file-tools/image-to-pdf.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-file-archive"></i> ZIP Extractor</h3>
                    <p>Extract files from ZIP archives online without any software.</p>
                    <a href="tools/file-tools/zip-extractor.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Analytics Tools Section -->
        <section id="analytics-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-chart-line"></i>
                Analytics Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-file-csv"></i> CSV/Excel Analyzer</h3>
                    <p>Analyze and visualize data from CSV and Excel files with powerful tools.</p>
                    <a href="tools/analytics-tools/csv-excel-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-search-dollar"></i> Keyword Density & SEO Analyzer</h3>
                    <p>Analyze keyword density and SEO metrics for URLs or text content.</p>
                    <a href="tools/analytics-tools/keyword-seo-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-smile"></i> Sentiment Analyzer</h3>
                    <p>Analyze text sentiment to determine positive, negative, or neutral tone.</p>
                    <a href="tools/analytics-tools/sentiment-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-server"></i> Log File / IP Analyzer</h3>
                    <p>Analyze server log files and IP addresses for insights and patterns.</p>
                    <a href="tools/analytics-tools/log-ip-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-book-reader"></i> Readability & Word Frequency Analyzer</h3>
                    <p>Analyze text readability scores and word frequency patterns.</p>
                    <a href="tools/analytics-tools/readability-analyzer.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fab fa-youtube"></i> YouTube Channel Analyzer</h3>
                    <p>Analyze YouTube channel performance, statistics, and engagement metrics.</p>
                    <a href="tools/analytics-tools/youtube-analyzer.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- SEO & Web Tools Section -->
        <section id="seo-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-globe"></i>
                SEO & Web Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-tags"></i> Meta Tag Generator</h3>
                    <p>Create perfect meta tags for your website to improve SEO.</p>
                    <a href="tools/seo&web-tools/meta-tag-generator.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-search"></i> Domain WHOIS Lookup</h3>
                    <p>Get detailed information about any domain name registration.</p>
                    <a href="tools/seo&web-tools/domain-whois-lookup.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-link"></i> URL Shortener</h3>
                    <p>Shorten long URLs to make them more shareable and trackable.</p>
                    <a href="tools/seo&web-tools/url-shortener.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-qrcode"></i> QR Code Generator</h3>
                    <p>Create QR codes for URLs, text, contact info and more.</p>
                    <a href="tools/seo&web-tools/qr-code-generator.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Math & Utility Tools Section -->
        <section id="math-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-calculator"></i>
                Math & Utility Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-calculator"></i> Calculator</h3>
                    <p>A full-featured calculator for all your basic and advanced needs.</p>
                    <a href="tools/math&utility-tools/calculator.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-ruler-combined"></i> Unit Converter</h3>
                    <p>Convert between different units of length, weight, temperature etc.</p>
                    <a href="tools/math&utility-tools/unit-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-money-bill-wave"></i> Currency Converter</h3>
                    <p>Convert between world currencies with up-to-date exchange rates.</p>
                    <a href="tools/math&utility-tools/currency-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-birthday-cake"></i> Age Calculator</h3>
                    <p>Calculate exact age in years, months and days from birth date.</p>
                    <a href="tools/math&utility-tools/age-calculator.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Text Tools Section -->
        <section id="text-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-font"></i>
                Text Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-sort-numeric-up"></i> Word Counter</h3>
                    <p>Count words, characters, sentences and paragraphs in your text.</p>
                    <a href="tools/text-tools/word-counter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-lock"></i> Text Encryptor</h3>
                    <p>Encrypt and decrypt text with secure algorithms..</p>
                    <a href="tools/text-tools/text-encryption.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-text-height"></i> Case Converter</h3>
                    <p>Convert text between uppercase, lowercase, title case and more.</p>
                    <a href="tools/text-tools/case-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-paragraph"></i> Lorem Ipsum Generator</h3>
                    <p>Generate placeholder text in Lorem Ipsum for your designs.</p>
                    <a href="tools/text-tools/lorem-ipsum.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Developer Tools Section -->
        <section id="developer-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-code"></i>
                Developer Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-code"></i> JSON Formatter</h3>
                    <p>Format and validate JSON data to make it readable and error-free.</p>
                    <a href="tools/developer-tools/json-formatter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-key"></i> Base64 Converter</h3>
                    <p>Encode and decode Base64 strings and files.</p>
                    <a href="tools/developer-tools/base64-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-terminal"></i> Regex Tester</h3>
                    <p>Test and debug regular expressions with real-time matching.</p>
                    <a href="tools/developer-tools/regex-tester.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-exchange-alt"></i> JSON to XML Converter</h3>
                    <p>Convert JSON data to XML format and vice versa.</p>
                    <a href="tools/developer-tools/json-to-xml-converter.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-hashtag"></i> Hash Generator</h3>
                    <p>Generate MD5, SHA-1, SHA-256 and other cryptographic hashes.</p>
                    <a href="tools/developer-tools/hash-generator.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-fingerprint"></i> UUID Generator</h3>
                    <p>Generate universally unique identifiers (UUIDs) for your applications.</p>
                    <a href="tools/developer-tools/uuid-generator.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- Color Tools Section -->
        <section id="color-tools" class="category-section">
            <h3 class="section-title">
                <i class="fas fa-palette"></i>
                Color Tools
            </h3>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3><i class="fas fa-eye-dropper"></i> Color Picker</h3>
                    <p>Pick colors from anywhere and get their HEX, RGB, HSL values.</p>
                    <a href="tools/color-tools/color-picker.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-swatchbook"></i> Color Palette Generator</h3>
                    <p>Generate beautiful color palettes for your designs and projects.</p>
                    <a href="tools/color-tools/color-palettes.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-exchange-alt"></i> Color Code Generator</h3>
                    <p>Generate colors between HEX, RGB, HSL, and other formats.</p>
                    <a href="tools/color-tools/color-code-generator.html">Use Tool</a>
                </div>
                <div class="tool-card">
                    <h3><i class="fas fa-contrast"></i> Color combinator</h3>
                    <p>Find perfect color combinations for your designs.</p>
                    <a href="tools/color-tools/color-combinator.html">Use Tool</a>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faq" class="faq-section">
            <h2 class="faq-title"><i class="fas fa-question-circle"></i> Frequently Asked Questions</h2>
            <div class="faq">
                <div class="faq-item">
                    <button class="faq-question">Is Wander Tools free to use? <i class="fas fa-chevron-down"></i></button>
                    <div class="faq-answer">
                        <p>Yes. Most tools are completely free to use. We may add optional sign-in for saving preferences, but basic usage remains free.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">Do I need to create an account to use the tools? <i class="fas fa-chevron-down"></i></button>
                    <div class="faq-answer">
                        <p>No account is required to use the tools unless specifically noted. If login is ever required, well clearly indicate it and offer Google sign-in for convenience.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">What happens to my files and data? <i class="fas fa-chevron-down"></i></button>
                    <div class="faq-answer">
                        <p>Your files are processed only for the requested operation (e.g., converting or compressing) and are not stored permanently. For text-based tools, processing is done in your browser whenever possible.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">Will you add more tools in the future? <i class="fas fa-chevron-down"></i></button>
                    <div class="faq-answer">
                        <p>Yes. Were continuously expanding. Send requests via the Feedback form belowpopular requests are prioritized.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">Why do some features ask me to verify my email? <i class="fas fa-chevron-down"></i></button>
                    <div class="faq-answer">
                        <p>Email verification helps protect your account and enables features like saving preferences or history. Its only needed for account-related features.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Feedback Section -->
        <section id="feedback" class="feedback-section">
            <div class="feedback-container">
                <h2 class="feedback-title">
                    <i class="fas fa-comment-dots"></i>
                    Send Us Your Feedback
                </h2>
                
                <div id="alertBox" class="alert"></div>
                
                <form class="feedback-form" id="feedbackForm">
                    <div class="form-group" id="nameGroup">
                        <label for="name">Name *</label>
                        <input type="text" id="name" class="form-control" placeholder="Your name" required minlength="2" maxlength="50">
                    </div>
                    <div class="form-group" id="emailGroup">
                        <label for="email">Email *</label>
                        <input type="email" id="email" class="form-control" placeholder="Your email" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Message *</label>
                        <textarea id="message" class="form-control" placeholder="Your feedback or suggestions..." required minlength="10" maxlength="1000"></textarea>
                    </div>
                    <button type="submit" class="submit-button" id="submitButton">
                        Send Feedback
                    </button>
                </form>

                <p class="privacy-note">
                    <i class="fas fa-shield-alt"></i>
                    Your information is secure and will only be used to respond to your feedback.
                </p>
            </div>
        </section>
    </main>

    <!-- Footer Section -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Wander Tools</h3>
                    <p>Your complete online toolkit for everyday tasks. Free, fast and easy-to-use tools for everyone.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/shahadot.wp"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-github"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#header">Home</a></li>
                        <li><a href="#home">All Tools</a></li>
                        <li><a href="#feedback">Feedback</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Categories</h3>
                    <ul>
                        <li><a href="#image-tools">Image Tools</a></li>
                        <li><a href="#file-tools">File Tools</a></li>
                        <li><a href="#analytics-tools">Analytics Tools</a></li>
                        <li><a href="#seo-tools">SEO & Web Tools</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>More Categories</h3>
                    <ul>
                        <li><a href="#math-tools">Math & Utility Tools</a></li>
                        <li><a href="#text-tools">Text Tools</a></li>
                        <li><a href="#developer-tools">Developer Tools</a></li>
                        <li><a href="#color-tools">Color Tools</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Wander Tools. All rights reserved.</p>
                <button id="scrollToTop" class="cta-button" style="margin-top: 15px; padding: 0;">
                    <i class="fas fa-arrow-up"></i>
                </button>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBCIRviVtANQrb72IZzyNlQMuCzsIATP7k",
            authDomain: "wander-tools.firebaseapp.com",
            projectId: "wander-tools",
            storageBucket: "wander-tools.firebasestorage.app",
            messagingSenderId: "911828766491",
            appId: "1:911828766491:web:e38541bd54996adea5cdbe",
            measurementId: "G-GY19ZGWP4K"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        // App settings (from Firestore)
        const appSettings = { loginRequired: false, title: null };
        async function loadAppSettings(){
            try{
                const doc = await db.collection('settings').doc('app').get();
                const data = doc.exists ? doc.data() : {};
                appSettings.loginRequired = !!data.loginRequired;
                appSettings.title = data.title || null;
                if (appSettings.title) { try { document.title = appSettings.title + ' - Wander Tools'; } catch(_){} }
            }catch(_){ appSettings.loginRequired = false; }
        }
        // Load settings ASAP (non-blocking)
        loadAppSettings();

        // Theme Toggle Functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const body = document.body;

        // Check for saved theme preference or respect OS preference
        const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.classList.replace('fa-moon', 'fa-sun');
        }

        themeToggle.addEventListener('click', () => {
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                themeIcon.classList.replace('fa-sun', 'fa-moon');
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeIcon.classList.replace('fa-moon', 'fa-sun');
                localStorage.setItem('theme', 'dark');
            }
        });

        // Modal Functionality
        const downloadButton = document.getElementById('downloadButton');
        const downloadModal = document.getElementById('downloadModal');
        const closeModal = document.getElementById('closeModal');
        // Auth modal elements
        const authModal = document.getElementById('authModal');
        const openLoginBtn = document.getElementById('openLogin');
        const openSignUpBtn = document.getElementById('openSignUp');
        const authArea = document.getElementById('authArea');
        const headerAuthButtons = document.getElementById('headerAuthButtons');

        downloadButton.addEventListener('click', (e) => {
            e.preventDefault();
            downloadModal.style.display = 'block';
        });

        closeModal.addEventListener('click', () => {
            downloadModal.style.display = 'none';
        });

        window.addEventListener('click', (e) => {
            if (e.target === downloadModal) {
                downloadModal.style.display = 'none';
            }
            if (e.target === authModal) {
                authModal.style.display = 'none';
            }
        });

        function setAuthPage(page) {
            const loginPageEl = document.getElementById('loginPage');
            const signUpPageEl = document.getElementById('signUpPage');
            const verifyEmailPageEl = document.getElementById('verifyEmailPage');
            if (page === 'signup') {
                loginPageEl.classList.remove('active');
                signUpPageEl.classList.add('active');
                verifyEmailPageEl.classList.remove('active');
            } else if (page === 'verify') {
                loginPageEl.classList.remove('active');
                signUpPageEl.classList.remove('active');
                verifyEmailPageEl.classList.add('active');
            } else {
                signUpPageEl.classList.remove('active');
                loginPageEl.classList.add('active');
                verifyEmailPageEl.classList.remove('active');
            }
        }

        function openAuthModal(mode) {
            setAuthPage(mode || 'login');
            authModal.style.display = 'block';
        }

        if (openLoginBtn) openLoginBtn.addEventListener('click', (e) => { e.preventDefault(); openAuthModal('login'); });
        if (openSignUpBtn) openSignUpBtn.addEventListener('click', (e) => { e.preventDefault(); openAuthModal('signup'); });
        const authCloseBtn = document.getElementById('authCloseBtn');
        const authCloseBtn2 = document.getElementById('authCloseBtn2');
        if (authCloseBtn) authCloseBtn.addEventListener('click', () => { authModal.style.display = 'none'; });
        if (authCloseBtn2) authCloseBtn2.addEventListener('click', () => { authModal.style.display = 'none'; });

        // Search Functionality
        const headerSearchInput = document.getElementById('headerSearchInput');
        const searchClear = document.getElementById('searchClear');
        const searchResults = document.getElementById('searchResults');
        
        // Sample tools data for search
        const tools = [
            { name: 'Image Resizer', category: 'Image Tools', url: 'tools/image-tools/image-resizer.html' },
            { name: 'Image Format Converter', category: 'Image Tools', url: 'tools/image-tools/image-converter.html' },
            { name: 'Background Remover', category: 'Image Tools', url: 'tools/image-tools/background-remover.html' },
            { name: 'Image Compressor', category: 'Image Tools', url: 'tools/image-tools/image-compressor.html' },
            { name: 'PDF to Word', category: 'File Tools', url: 'tools/file-tools/pdf-to-word.html' },
            { name: 'Word to PDF', category: 'File Tools', url: 'tools/file-tools/word-to-pdf.html' },
            { name: 'Image to PDF', category: 'File Tools', url: 'tools/file-tools/image-to-pdf.html' },
            { name: 'ZIP Extractor', category: 'File Tools', url: 'tools/file-tools/zip-extractor.html' },
            { name: 'CSV/Excel Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/csv-excel-analyzer.html' },
            { name: 'Keyword Density & SEO Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/keyword-seo-analyzer.html' },
            { name: 'Sentiment Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/sentiment-analyzer.html' },
            { name: 'Log File / IP Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/log-ip-analyzer.html' },
            { name: 'Readability & Word Frequency Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/readability-analyzer.html' },
            { name: 'YouTube Channel Analyzer', category: 'Analytics Tools', url: 'tools/analytics-tools/youtube-analyzer.html' },
            { name: 'Meta Tag Generator', category: 'SEO & Web Tools', url: 'tools/seo&web-tools/meta-tag-generator.html' },
            { name: 'Domain WHOIS Lookup', category: 'SEO & Web Tools', url: 'tools/seo&web-tools/domain-whois-lookup.html' },
            { name: 'URL Shortener', category: 'SEO & Web Tools', url: 'tools/seo&web-tools/url-shortener.html' },
            { name: 'QR Code Generator', category: 'SEO & Web Tools', url: 'tools/seo&web-tools/qr-code-generator.html' },
            { name: 'Calculator', category: 'Math & Utility Tools', url: 'tools/math&utility-tools/calculator.html' },
            { name: 'Unit Converter', category: 'Math & Utility Tools', url: 'tools/math&utility-tools/unit-converter.html' },
            { name: 'Currency Converter', category: 'Math & Utility Tools', url: 'tools/math&utility-tools/currency-converter.html' },
            { name: 'Age Calculator', category: 'Math & Utility Tools', url: 'tools/math&utility-tools/age-calculator.html' },
            { name: 'Word Counter', category: 'Text Tools', url: 'tools/text-tools/word-counter.html' },
            { name: 'Translator', category: 'Text Tools', url: 'tools/text-tools/lorem-ipsum.html' },
            { name: 'Case Converter', category: 'Text Tools', url: 'tools/text-tools/case-converter.html' },
            { name: 'Text Generator', category: 'Text Tools', url: 'tools/text-tools/text-encryption.html' },
            { name: 'Base64 Converter', category: 'Developer Tools', url: 'tools/developer-tools/base64-converter.html' },
            { name: 'JSON to XML Converter', category: 'Developer Tools', url: 'tools/developer-tools/json-to-xml-converter.html' },
            { name: 'Hash Generator', category: 'Developer Tools', url: 'tools/developer-tools/hash-generator.html' },
            { name: 'Json Formatter', category: 'Developer Tools', url: 'tools/developer-tools/json-formatter.html' },
            { name: 'UUID Generator', category: 'Developer Tools', url: 'tools/developer-tools/uuid-generator.html' },
            { name: 'Regex Tester', category: 'Developer Tools', url: 'tools/developer-tools/regex-tester.html' },
            { name: 'Color Picker', category: 'Color Tools', url: 'tools/color-tools/color-picker.html' },
            { name: 'Color Palette Generator', category: 'Color Tools', url: 'tools/color-tools/color-palettes.html' },
            { name: 'Color Converter', category: 'Color Tools', url: 'tools/color-tools/color-combinator.html' },
            { name: 'Contrast Checker', category: 'Color Tools', url: 'tools/color-tools/color-code-generator.html' }
        ];

        // Professional search: debounce, keyboard nav, recent searches, better scoring
        (function setupSmartSearch(){
            const RECENT_KEY = 'wt_recent_searches';
            const MAX_RECENT = 5;
            let selectedIndex = -1;
            let visibleItems = [];
            let debTimer = null;

            function loadRecent(){
                try{ return JSON.parse(localStorage.getItem(RECENT_KEY)||'[]'); }catch(_){ return []; }
            }
            function saveRecent(term){
                if(!term) return;
                const list = loadRecent().filter(t=>t!==term);
                list.unshift(term);
                localStorage.setItem(RECENT_KEY, JSON.stringify(list.slice(0,MAX_RECENT)));
            }

            function clearResults(){ searchResults.innerHTML = ''; selectedIndex=-1; visibleItems=[]; }
            function show(){ searchResults.style.display='block'; }
            function hide(){ searchResults.style.display='none'; clearResults(); }

            function score(tool, q){
                const n = tool.name.toLowerCase();
                const c = tool.category.toLowerCase();
                if(n.startsWith(q)) return 100;
                if(n.includes(q)) return 80;
                if(c.startsWith(q)) return 60;
                if(c.includes(q)) return 40;
                return 0;
            }

            function renderItems(items, q){
                clearResults();
                if(!items.length){
                    const empty = document.createElement('div');
                    empty.className='empty';
                    empty.textContent = q ? `No results for "${q}"` : 'No recent searches';
                    searchResults.appendChild(empty);
                    show();
                    return;
                }
                items.slice(0,8).forEach((tool, idx)=>{
                    const el = document.createElement('div');
                    el.className='search-result-item';
                    const highlighted = tool.name.replace(new RegExp(q,'gi'), m=>`<strong>${m}</strong>`);
                    el.innerHTML = `${highlighted}<span class="badge">${tool.category}</span>`;
                    el.addEventListener('mouseenter', ()=>{ setActive(idx); });
                    el.addEventListener('click', ()=>{ saveRecent(q); navigateTo(tool.url); });
                    searchResults.appendChild(el);
                });
                visibleItems = Array.from(searchResults.querySelectorAll('.search-result-item'));
                show();
            }

            function setActive(i){
                selectedIndex = i;
                visibleItems.forEach((el,idx)=> el.classList.toggle('active', idx===i));
            }

            function handleQuery(){
                const q = headerSearchInput.value.toLowerCase().trim();
                if (searchClear) searchClear.style.display = q.length ? 'block' : 'none';
                if(q.length<2){
                    const recent = loadRecent().map(t=>({ name:t, category:'Recent', url:'#' }));
                    if(recent.length){
                        clearResults();
                        const label = document.createElement('div');
                        label.className='section-title-small';
                        label.textContent='Recent searches';
                        searchResults.appendChild(label);
                        recent.forEach((r, idx)=>{
                            const el = document.createElement('div');
                            el.className='search-result-item';
                            el.innerHTML = `${r.name}<span class='badge'>${r.category}</span>`;
                            el.addEventListener('click', ()=>{ headerSearchInput.value=r.name; runSearch(); });
                            searchResults.appendChild(el);
                        });
                        show();
                    } else hide();
                    return;
                }
                runSearch();
            }

            function runSearch(){
                const q = headerSearchInput.value.toLowerCase().trim();
                const results = tools
                    .map(t=>({ t, s: score(t,q) }))
                    .filter(x=>x.s>0)
                    .sort((a,b)=>b.s-a.s)
                    .map(x=>x.t);
                renderItems(results, q);
            }

            headerSearchInput.addEventListener('input', () => {
                clearTimeout(debTimer); debTimer = setTimeout(handleQuery, 160);
            });

            headerSearchInput.addEventListener('keydown', (e)=>{
                if (searchResults.style.display !== 'block') return;
                if(e.key==='ArrowDown'){ e.preventDefault(); setActive(Math.min((selectedIndex+1), visibleItems.length-1)); }
                if(e.key==='ArrowUp'){ e.preventDefault(); setActive(Math.max((selectedIndex-1), 0)); }
                if(e.key==='Enter'){
                    e.preventDefault();
                    if(selectedIndex>=0 && visibleItems[selectedIndex]){
                        const text = visibleItems[selectedIndex].textContent.trim();
                        const hit = tools.find(t=>text.startsWith(t.name));
                        if(hit){ saveRecent(headerSearchInput.value.trim()); navigateTo(hit.url); }
                    } else {
                        runSearch();
                        if(visibleItems[0]) visibleItems[0].click();
                    }
                }
                if(e.key==='Escape'){ hide(); }
            });

            if (searchClear) {
                searchClear.addEventListener('click', () => {
                    headerSearchInput.value = '';
                    clearResults();
                    hide();
                    searchClear.style.display = 'none';
                    headerSearchInput.focus();
                });
            }

            document.addEventListener('click', (e) => {
                if (!headerSearchInput.contains(e.target) && !searchResults.contains(e.target)) hide();
            });
        })();

        if (searchClear) {
            searchClear.addEventListener('click', () => {
                headerSearchInput.value = '';
                searchResults.innerHTML = '';
                searchResults.style.display = 'none';
                searchClear.style.display = 'none';
                headerSearchInput.focus();
            });
        }

        // Hide search results when clicking outside
        document.addEventListener('click', (e) => {
            if (!headerSearchInput.contains(e.target) && !searchResults.contains(e.target)) {
                searchResults.style.display = 'none';
            }
        });

        // Feedback Form Handling
        const feedbackForm = document.getElementById('feedbackForm');
        const submitButton = document.getElementById('submitButton');
        const alertBox = document.getElementById('alertBox');
        
        // Validate email format
        function isValidEmail(email) {
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            return emailRegex.test(email);
        }

        // Show alert message
        function showAlert(message, type) {
            alertBox.textContent = message;
            alertBox.className = `alert alert-${type}`;
            alertBox.style.display = 'block';
            
            // Hide alert after 5 seconds
            setTimeout(() => {
                alertBox.style.display = 'none';
            }, 5000);
        }

        function prefillFeedbackForUser(user) {
            const nameGroup = document.getElementById('nameGroup');
            const emailGroup = document.getElementById('emailGroup');
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            if (user) {
                const displayName = user.displayName || (user.email ? user.email.split('@')[0] : '');
                nameInput.value = displayName;
                emailInput.value = user.email || '';
                nameGroup.style.display = 'none';
                emailGroup.style.display = 'none';
                nameInput.removeAttribute('required');
                emailInput.removeAttribute('required');
            } else {
                nameGroup.style.display = '';
                emailGroup.style.display = '';
                nameInput.setAttribute('required', 'true');
                emailInput.setAttribute('required', 'true');
                nameInput.value = '';
                emailInput.value = '';
            }
        }

        auth.onAuthStateChanged((u) => {
            prefillFeedbackForUser(u);
        });

        feedbackForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const message = document.getElementById('message').value.trim();
            
            // Client-side validation (skip name/email checks for authenticated users)
            if (!auth.currentUser) {
                if (name.length < 2) {
                    showAlert('Name must be at least 2 characters long.', 'error');
                    return;
                }
                if (!isValidEmail(email)) {
                    showAlert('Please enter a valid email address.', 'error');
                    return;
                }
            }
            
            if (message.length < 10) {
                showAlert('Message must be at least 10 characters long.', 'error');
                return;
            }
            
            // Disable submit button and show loading state
            submitButton.disabled = true;
            submitButton.innerHTML = '<span class="loading"></span> Sending...';
            
            try {
                // Save feedback to Firestore
                const activeUser = auth.currentUser;
                const displayName = activeUser ? (activeUser.displayName || (activeUser.email ? activeUser.email.split('@')[0] : '')) : '';
                const nameToSave = activeUser ? (displayName || name) : name;
                const emailToSave = activeUser ? (activeUser.email || email) : email;
                const statusToSave = activeUser ? 'verified' : 'unverified';
                await db.collection("feedbacks").add({
                    name: nameToSave,
                    email: emailToSave,
                    message: message,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    pageUrl: window.location.href,
                    uid: activeUser ? activeUser.uid : null,
                    status: statusToSave
                });
                
                // Show success message
                showAlert('Thank you for your feedback! We appreciate your input.', 'success');
                
                // Reset form
                feedbackForm.reset();
            } catch (error) {
                console.error("Error saving feedback: ", error);
                showAlert('Sorry, there was an error submitting your feedback. Please try again.', 'error');
            } finally {
                // Re-enable submit button
                submitButton.disabled = false;
                submitButton.innerHTML = 'Send Feedback';
            }
        });

        // Input validation on the fly
        document.getElementById('email').addEventListener('blur', function() {
            if (this.value && !isValidEmail(this.value)) {
                this.style.borderColor = 'var(--danger-color)';
            } else {
                this.style.borderColor = '#ddd';
            }
        });

        document.getElementById('name').addEventListener('blur', function() {
            if (this.value && this.value.length < 2) {
                this.style.borderColor = 'var(--danger-color)';
            } else {
                this.style.borderColor = '#ddd';
            }
        });

        document.getElementById('message').addEventListener('blur', function() {
            if (this.value && this.value.length < 10) {
                this.style.borderColor = 'var(--danger-color)';
            } else {
                this.style.borderColor = '#ddd';
            }
        });

        // Scroll to top functionality
        const scrollToTopButton = document.getElementById('scrollToTop');
        if (scrollToTopButton) {
            scrollToTopButton.setAttribute('aria-label', 'Back to top');
            scrollToTopButton.title = 'Back to top';
        }
        
        function updateBackToTop(){
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const docHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const pct = Math.max(0, Math.min(1, docHeight ? (scrollTop / docHeight) : 0));
            if (scrollToTopButton) {
                scrollToTopButton.style.setProperty('--progress', (pct*100)+'%');
                scrollToTopButton.style.display = scrollTop > 300 ? 'flex' : 'none';
            }
        }
        updateBackToTop();
        window.addEventListener('scroll', updateBackToTop, { passive: true });
        window.addEventListener('resize', updateBackToTop);

        if (scrollToTopButton) {
            scrollToTopButton.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            scrollToTopButton.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); window.scrollTo({ top: 0, behavior: 'smooth' }); }
            });
        }

        // Highlight navigation when scrolling to sections
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.nav-links a');
        
        window.addEventListener('scroll', () => {
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                
                if (pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });
        });

        // Footer links: keep CSS-controlled hover (no JS color override for contrast)

        // ===== Auth UI and gating =====
        function renderAuthUI(user) {
            if (user) {
                headerAuthButtons.style.display = 'none';
                const displayName = user.displayName || (user.email ? user.email.split('@')[0] : 'User');
                authArea.innerHTML = '';
                const profileDiv = document.createElement('div');
                profileDiv.className = 'profile';
                const avatar = user.photoURL ? `<img class=\"profile-avatar\" src=\"${user.photoURL}\" alt=\"avatar\">` : `<i class=\"fas fa-user-circle\"></i>`;
                profileDiv.innerHTML = `
                    <button class="profile-toggle" id="profileToggle">
                        ${avatar}
                        <span id="profileName">${displayName}</span>
                    </button>
                    <div class="profile-menu" id="profileMenu">
                        <a href="profile.html" id="viewProfile">View Profile</a>
                        <button id="logoutBtn">Logout</button>
                    </div>
                `;
                authArea.appendChild(profileDiv);

                const profileToggle = document.getElementById('profileToggle');
                const profileMenu = document.getElementById('profileMenu');
                const logoutBtn = document.getElementById('logoutBtn');

                profileToggle.addEventListener('click', () => {
                    profileMenu.style.display = profileMenu.style.display === 'block' ? 'none' : 'block';
                });

                document.addEventListener('click', (evt) => {
                    if (!profileDiv.contains(evt.target)) {
                        profileMenu.style.display = 'none';
                    }
                });

                logoutBtn.addEventListener('click', async () => {
                    await auth.signOut();
                    profileMenu.style.display = 'none';
                });
            } else {
                authArea.innerHTML = '';
                headerAuthButtons.style.display = 'flex';
            }
        }

        auth.onAuthStateChanged(async (user) => {
            // Try to hydrate displayName from Firestore if missing
            if (user && !user.displayName) {
                try {
                    const doc = await db.collection('users').doc(user.uid).get();
                    const data = doc.exists ? doc.data() : null;
                    if (data && data.name) {
                        await user.updateProfile({ displayName: data.name }).catch(() => {});
                    }
                } catch (_) { /* ignore */ }
            }
            // If Firestore stores a photoURL, sync it as well
            if (user && !user.photoURL) {
                try {
                    const doc = await db.collection('users').doc(user.uid).get();
                    const data = doc.exists ? doc.data() : null;
                    if (data && data.photoURL) {
                        await user.updateProfile({ photoURL: data.photoURL }).catch(() => {});
                    }
                } catch (_) { /* ignore */ }
            }
            renderAuthUI(user);
        });

        function navigateTo(url) {
            const user = auth.currentUser;
            if (appSettings.loginRequired && !user) { openAuthModal('login'); return; }
            window.location.href = url;
        }

        // Intercept "Use Tool" clicks based on settings.loginRequired
        document.addEventListener('click', function(e) {
            const target = e.target;
            if (target.closest && target.closest('.tool-card a')) {
                const anchor = target.closest('.tool-card a');
                const url = anchor.getAttribute('href');
                if (appSettings.loginRequired && !auth.currentUser) {
                    e.preventDefault();
                    openAuthModal('login');
                } else {
                    // allow default navigation
                }
            }
        }, true);

        // ===== Category Filter (auto-generated) =====
        (function setupCategoryFilter(){
            const filterBar = document.getElementById('filterBar');
            if (!filterBar) return;
            const toolSections = Array.from(document.querySelectorAll('.category-section'));
            // Prepare list: include an All button first
            const categories = [{ id:'all', title:'All' }].concat(
                toolSections.map(sec => ({ id: sec.id, title: (sec.querySelector('.section-title')?.textContent || sec.id).trim() }))
            );
            // Build buttons
            categories.forEach(({id, title}, index) => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn' + (index===0 ? ' active' : '');
                btn.setAttribute('data-filter', id);
                btn.textContent = title;
                filterBar.appendChild(btn);
            });
            // Initialize sections' max-height for smooth collapse
            const syncHeights = () => {
                toolSections.forEach(sec => {
                    if (sec.classList.contains('is-hidden')) return; // collapsed state controls max-height
                    sec.style.maxHeight = sec.scrollHeight + 'px';
                });
            };
            window.addEventListener('resize', () => { syncHeights(); });
            // Initial sizing
            setTimeout(syncHeights, 50);

            function filter(catId){
                // toggle active button
                filterBar.querySelectorAll('.filter-btn').forEach(b=>{
                    b.classList.toggle('active', b.getAttribute('data-filter')===catId);
                    if (catId==='all' && b.getAttribute('data-filter')==='all') b.classList.add('active');
                });
                toolSections.forEach(sec => {
                    const show = (catId==='all' || sec.id===catId);
                    if (show){
                        sec.style.display = '';
                        // allow layout to calculate then animate open
                        requestAnimationFrame(()=>{
                            sec.classList.remove('is-hidden');
                            sec.style.maxHeight = sec.scrollHeight + 'px';
                        });
                    } else {
                        sec.style.maxHeight = sec.scrollHeight + 'px'; // set current height
                        // next frame collapse to zero
                        requestAnimationFrame(()=>{
                            sec.classList.add('is-hidden');
                            sec.style.maxHeight = '0px';
                        });
                    }
                });
            }
            filterBar.addEventListener('click', (e)=>{
                const btn = e.target.closest('.filter-btn'); if(!btn) return;
                const cat = btn.getAttribute('data-filter');
                filter(cat);
            });
        })();

        // ===== Inline Auth Handlers =====
        const loginEmailInput = document.getElementById('loginEmail');
        const loginPasswordInput = document.getElementById('loginPassword');
        const loginBtn = document.getElementById('loginBtn');
        const googleLoginBtn = document.getElementById('googleLoginBtn');
        const showSignUpLink = document.getElementById('showSignUpLink');
        const forgotPasswordLink = document.getElementById('forgotPasswordLink');
        const toggleLoginPassword = document.getElementById('toggleLoginPassword');
        const loginErrorMessage = document.getElementById('loginErrorMessage');
        const loginSuccessMessage = document.getElementById('loginSuccessMessage');

        const backToLogin = document.getElementById('backToLogin');
        const signUpNameInput = document.getElementById('signUpName');
        const signUpEmailInput = document.getElementById('signUpEmail');
        const signUpPasswordInput = document.getElementById('signUpPassword');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        const signUpBtn = document.getElementById('signUpBtn');
        const toggleSignUpPassword = document.getElementById('toggleSignUpPassword');
        const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
        const signUpErrorMessage = document.getElementById('signUpErrorMessage');
        const signUpSuccessMessage = document.getElementById('signUpSuccessMessage');

        function setupPasswordToggle(toggleElement, inputElement) {
            if (!toggleElement || !inputElement) return;
            toggleElement.addEventListener('click', () => {
                if (inputElement.type === 'password') {
                    inputElement.type = 'text';
                    toggleElement.innerHTML = '<i class="far fa-eye-slash"></i>';
                } else {
                    inputElement.type = 'password';
                    toggleElement.innerHTML = '<i class="far fa-eye"></i>';
                }
            });
        }
        setupPasswordToggle(toggleLoginPassword, loginPasswordInput);
        setupPasswordToggle(toggleSignUpPassword, signUpPasswordInput);
        setupPasswordToggle(toggleConfirmPassword, confirmPasswordInput);

        if (showSignUpLink) {
            showSignUpLink.addEventListener('click', (e) => {
                e.preventDefault();
                setAuthPage('signup');
            });
        }
        if (backToLogin) {
            backToLogin.addEventListener('click', () => setAuthPage('login'));
        }
        // Verify email navigation controls
        const verifyBackToLogin = document.getElementById('verifyBackToLogin');
        const authCloseBtn3 = document.getElementById('authCloseBtn3');
        if (verifyBackToLogin) verifyBackToLogin.addEventListener('click', () => setAuthPage('login'));
        if (authCloseBtn3) authCloseBtn3.addEventListener('click', () => { authModal.style.display = 'none'; });

        function showLoginError(message) {
            loginErrorMessage.textContent = message;
            loginErrorMessage.style.display = 'block';
            loginSuccessMessage.style.display = 'none';
        }
        function showLoginSuccess(message) {
            loginSuccessMessage.textContent = message;
            loginSuccessMessage.style.display = 'block';
            loginErrorMessage.style.display = 'none';
        }
        function showSignUpError(message) {
            signUpErrorMessage.textContent = message;
            signUpErrorMessage.style.display = 'block';
            signUpSuccessMessage.style.display = 'none';
        }
        function showSignUpSuccess(message) {
            signUpSuccessMessage.textContent = message;
            signUpSuccessMessage.style.display = 'block';
            signUpErrorMessage.style.display = 'none';
        }

        if (loginBtn) {
            loginBtn.addEventListener('click', () => {
                const email = loginEmailInput.value;
                const password = loginPasswordInput.value;
                if (!email || !password) { showLoginError('Please enter both email and password'); return; }
                loginBtn.disabled = true;
                loginBtn.innerHTML = '<span><i class="fas fa-spinner fa-spin"></i> Signing in...</span>';
                auth.signInWithEmailAndPassword(email, password)
                    .then(() => {
                        const user = auth.currentUser;
                        if (user && !user.emailVerified) {
                            document.getElementById('verifyEmailTarget').textContent = user.email || '';
                            setAuthPage('verify');
                            user.sendEmailVerification().catch(() => {});
                            showLoginError('Please verify your email from the verification link we sent.');
                        } else {
                            showLoginSuccess('Successfully signed in!');
                            authModal.style.display = 'none';
                        }
                    })
                    .catch((error) => {
                        loginBtn.disabled = false;
                        loginBtn.innerHTML = '<span>Sign In</span>';
                        showLoginError((() => {
                            switch(error.code){
                                case 'auth/invalid-email':
                                case 'auth/user-not-found':
                                case 'auth/wrong-password':
                                case 'auth/invalid-credential':
                                case 'auth/invalid-login-credentials':
                                    return 'Invalid credentials';
                                case 'auth/user-disabled':
                                    return 'This user account has been disabled.';
                                default:
                                    return 'An error occurred during authentication. Please try again.';
                            }
                        })());
                    });
            });
        }

        // Handle Google sign-in (popup with graceful fallback to redirect)
        // Also processes results if we returned from a redirect flow
        (function setupGoogleAuth() {
            // Both Login and Sign Up Google buttons
            const googleSignUpBtn = document.getElementById('googleSignUpBtn');
            const googleButtons = [googleLoginBtn, googleSignUpBtn].filter(Boolean);

            // If we came back from a redirect, complete the sign-in
            auth.getRedirectResult()
                .then((result) => {
                    if (result && result.user) {
                        showLoginSuccess('Successfully signed in with Google!');
                        authModal.style.display = 'none';
                    }
                })
                .catch((error) => {
                    // Surface clearer messages
                    const msg = (() => {
                        switch (error.code) {
                            case 'auth/unauthorized-domain':
                                return 'This domain is not authorized for Google sign-in. Please use the published site URL or add this domain in Firebase Auth settings.';
                            case 'auth/operation-not-supported-in-this-environment':
                                return 'This environment does not support popup sign-in. Please try again or use a supported browser.';
                            default:
                                return 'An error occurred completing Google sign-in. Please try again.';
                        }
                    })();
                    showLoginError(msg);
                });

            // Attach handler to all Google buttons
            googleButtons.forEach((btn) => btn.addEventListener('click', async () => {
                const provider = new firebase.auth.GoogleAuthProvider();
                const originalHtml = btn.innerHTML;
                btn.disabled = true;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Signing in...';
                try {
                    await auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);
                } catch (_) { /* ignore */ }

                try {
                    await auth.signInWithPopup(provider);
                    showLoginSuccess('Successfully signed in with Google!');
                    authModal.style.display = 'none';
                } catch (error) {
                    // Fallback to redirect for environments where popup fails
                    const fallbackCodes = new Set([
                        'auth/popup-blocked',
                        'auth/popup-closed-by-user',
                        'auth/operation-not-supported-in-this-environment'
                    ]);

                    if (fallbackCodes.has(error.code)) {
                        try {
                            await auth.signInWithRedirect(provider);
                            return; // control will continue after redirect
                        } catch (redirectErr) {
                            const msg = redirectErr && redirectErr.code === 'auth/unauthorized-domain'
                                ? 'This domain is not authorized for Google sign-in. Please open the site from its configured domain.'
                                : 'Google sign-in failed. Please try again.';
                            showLoginError(msg);
                        }
                    } else {
                        const msg = (() => {
                            switch (error.code) {
                                case 'auth/unauthorized-domain':
                                    return 'This domain is not authorized for Google sign-in. Please open the site from its configured domain.';
                                case 'auth/cancelled-popup-request':
                                    return 'Another sign-in attempt was in progress. Please try again.';
                                default:
                                    return 'An error occurred during Google sign-in. Please try again.';
                            }
                        })();
                        showLoginError(msg);
                    }
                } finally {
                    btn.disabled = false;
                    btn.innerHTML = originalHtml;
                }
            }));
        })();

        if (signUpBtn) {
            signUpBtn.addEventListener('click', () => {
                const name = signUpNameInput.value;
                const email = signUpEmailInput.value;
                const password = signUpPasswordInput.value;
                const confirmPassword = confirmPasswordInput.value;
                if (!name || !email || !password || !confirmPassword) { showSignUpError('Please fill in all fields'); return; }
                if (password !== confirmPassword) { showSignUpError('Passwords do not match'); return; }
                if (password.length < 6) { showSignUpError('Password must be at least 6 characters long'); return; }
                signUpBtn.disabled = true;
                signUpBtn.innerHTML = '<span><i class="fas fa-spinner fa-spin"></i> Creating account...</span>';
                auth.createUserWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        // Save display name to Firebase Auth profile
                        return userCredential.user.updateProfile({ displayName: name })
                            .catch(() => {})
                            .then(() => db.collection('users').doc(userCredential.user.uid).set({
                            name: name,
                            email: email,
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        })).then(async () => {
                            try { await userCredential.user.sendEmailVerification(); } catch(_) {}
                            document.getElementById('verifyEmailTarget').textContent = email;
                            setAuthPage('verify');
                            showSignUpSuccess('A verification email has been sent. Please verify to complete sign up.');
                        });
                    })
                    .catch((error) => {
                        signUpBtn.disabled = false;
                        signUpBtn.innerHTML = '<span>Create Account</span>';
                        showSignUpError((() => {
                            switch(error.code){
                                case 'auth/invalid-email': return 'Invalid email address format.';
                                case 'auth/email-already-in-use': return 'This email is already registered.';
                                case 'auth/weak-password': return 'Password should be at least 6 characters.';
                                default: return 'An error occurred during sign up. Please try again.';
                            }
                        })());
                    });
            });
        }

        // Verify page actions
        const resendVerifyBtn = document.getElementById('resendVerifyBtn');
        const iVerifiedBtn = document.getElementById('iVerifiedBtn');
        const verifyErrorMessage = document.getElementById('verifyErrorMessage');
        if (resendVerifyBtn) resendVerifyBtn.addEventListener('click', async () => {
            verifyErrorMessage.style.display = 'none';
            const user = auth.currentUser;
            if (!user) { setAuthPage('login'); return; }
            try {
                await user.sendEmailVerification();
                const info = document.getElementById('verifyInfoMessage');
                if (info) { info.style.display = 'block'; info.textContent = 'Verification email re-sent. Please check your inbox.'; }
            } catch (e) {
                verifyErrorMessage.textContent = 'Failed to send verification email. Please try again later.';
                verifyErrorMessage.style.display = 'block';
            }
        });
        if (iVerifiedBtn) iVerifiedBtn.addEventListener('click', async () => {
            verifyErrorMessage.style.display = 'none';
            const user = auth.currentUser;
            if (!user) { setAuthPage('login'); return; }
            try {
                await user.reload();
                if (user.emailVerified) {
                    showLoginSuccess('Email verified! You are now signed in.');
                    authModal.style.display = 'none';
                } else {
                    verifyErrorMessage.textContent = 'Not verified yet. Please click the link in your email and try again.';
                    verifyErrorMessage.style.display = 'block';
                }
            } catch (_) {
                verifyErrorMessage.textContent = 'Could not confirm verification. Please try again.';
                verifyErrorMessage.style.display = 'block';
            }
        });

        if (forgotPasswordLink) {
            forgotPasswordLink.addEventListener('click', (e) => {
                e.preventDefault();
                const email = loginEmailInput.value || prompt('Please enter your email address:');
                if (!email) { showLoginError('Please enter your email first'); return; }
                auth.sendPasswordResetEmail(email)
                    .then(() => { showLoginSuccess('Password reset email sent! Check your inbox.'); })
                    .catch((error) => { showLoginError('Failed to send reset email. Please try again.'); });
            });
        }

        // ===== Mouse tracing effect =====
        (function setupCursorTrail(){
            const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            if (prefersReduced) return;

            const DOT_COUNT = 16;
            const dots = [];
            let targetX = window.innerWidth / 2;
            let targetY = window.innerHeight / 2;
            let isMoving = false;
            let inactivityTimer = null;

            for (let i = 0; i < DOT_COUNT; i++) {
                const dot = document.createElement('div');
                dot.className = 'cursor-trail-dot';
                // Staggered hues for a subtle spectrum
                const hueShift = i * (360 / DOT_COUNT);
                dot.style.background = `radial-gradient(circle at 30% 30%, hsl(${(210 + hueShift)%360}, 90%, 65%), hsl(${(240 + hueShift)%360}, 85%, 58%))`;
                dot.style.width = dot.style.height = `${Math.max(6, 12 - i * 0.3)}px`;
                document.body.appendChild(dot);
                dots.push({ el: dot, x: targetX, y: targetY });
            }

            const lerp = (a, b, t) => a + (b - a) * t;

            function animate(){
                // Lead follows mouse closely, others follow previous
                for (let i = 0; i < dots.length; i++) {
                    const d = dots[i];
                    const prev = i === 0 ? { x: targetX, y: targetY } : dots[i - 1];
                    const t = i === 0 ? 0.35 : 0.25; // responsiveness
                    d.x = lerp(d.x, prev.x, t);
                    d.y = lerp(d.y, prev.y, t);
                    d.el.style.transform = `translate(${d.x}px, ${d.y}px)`;
                    if (isMoving) d.el.classList.add('is-active');
                }
                requestAnimationFrame(animate);
            }
            requestAnimationFrame(animate);

            function handleMove(e){
                isMoving = true;
                const p = (e.touches && e.touches[0]) || e;
                targetX = p.clientX; targetY = p.clientY;
                clearTimeout(inactivityTimer);
                inactivityTimer = setTimeout(()=>{
                    isMoving = false;
                    dots.forEach(d=>d.el.classList.add('is-fading'));
                    setTimeout(()=>dots.forEach(d=>d.el.classList.remove('is-active','is-fading')), 650);
                }, 160);
            }
            window.addEventListener('mousemove', handleMove, { passive: true });
            window.addEventListener('touchmove', handleMove, { passive: true });

            // Hide trail when leaving window
            window.addEventListener('mouseleave', ()=>{
                isMoving = false;
                dots.forEach(d=>d.el.classList.remove('is-active'));
            });
        })();

        // ===== Typewriter animation for header title and rotating subtitle =====
        (function setupHeaderTypewriter(){
            const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            const titleEl = document.querySelector('.header-content h2');
            const subEl = document.querySelector('.header-content p');
            if (!titleEl || !subEl || prefersReduced) return;

            const originalTitle = titleEl.textContent.trim();
            const originalSub = subEl.textContent.trim();
            const altSub = '30+ free tools for images, files, SEO, dev and more.';
            titleEl.textContent = '';
            subEl.textContent = '';

            function typeText(el, text, speed, startDelay, done){
                el.classList.add('typing-caret');
                let i = 0;
                setTimeout(function tick(){
                    if (i < text.length){
                        el.textContent += text.charAt(i++);
                        setTimeout(tick, speed);
                    } else {
                        el.classList.remove('typing-caret');
                        if (done) done();
                    }
                }, startDelay);
            }
            function eraseText(el, speed, done){
                el.classList.add('typing-caret');
                function back(){
                    if (el.textContent.length){
                        el.textContent = el.textContent.slice(0, -1);
                        setTimeout(back, speed);
                    } else {
                        el.classList.remove('typing-caret');
                        if (done) done();
                    }
                }
                back();
            }

            // Start typing title, then rotate subtitle every 5s
            typeText(titleEl, originalTitle, 45, 320, function(){
                const messages = [originalSub, altSub];
                let idx = 0;
                function cycle(){
                    const msg = messages[idx % messages.length];
                    typeText(subEl, msg, 25, 260, ()=>{
                        // Hold for 5s, then erase and show next
                        setTimeout(()=>{
                            eraseText(subEl, 14, ()=>{
                                idx++;
                                setTimeout(cycle, 260);
                            });
                        }, 5000);
                    });
                }
                cycle();
            });
        })();

        // ===== FAQ accordion =====
        (function setupFAQ(){
            const items = document.querySelectorAll('.faq-item');
            items.forEach(item => {
                const q = item.querySelector('.faq-question');
                const a = item.querySelector('.faq-answer');
                q.addEventListener('click', () => {
                    const isActive = item.classList.contains('active');
                    // close others
                    items.forEach(it => { it.classList.remove('active'); const ans = it.querySelector('.faq-answer'); if (ans) ans.style.maxHeight = 0; });
                    if (!isActive) {
                        item.classList.add('active');
                        a.style.maxHeight = a.scrollHeight + 'px';
                    }
                });
                // initialize sizes for accessibility
                a.style.maxHeight = 0;
            });
        })();
    </script>
</body>
</html>
