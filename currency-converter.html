<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="favicon.png" sizes="32x32" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Converter - Wander Tools</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background-color 0.3s, color 0.3s;
        }
        
        body.dark-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #f0f0f0;
        }
        
        .container {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            width: 100%;
        }
        
        .back-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-weight: 500;
        }
        
        .dark-mode .back-button {
            background: rgba(255, 255, 255, 0.1);
            color: #f0f0f0;
        }
        
        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .dark-mode .back-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .dark-mode-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .dark-mode .dark-mode-toggle {
            background: rgba(255, 255, 255, 0.1);
            color: #f0f0f0;
        }
        
        .dark-mode-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            color: white;
        }
        
        .dark-mode header {
            color: #f0f0f0;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto;
            opacity: 0.9;
        }
        
        .tool-container {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            margin-bottom: 30px;
            transition: background-color 0.3s;
        }
        
        .dark-mode .tool-container {
            background-color: #1e293b;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }
        
        .tool-header {
            background: linear-gradient(90deg, #4776E6 0%, #8E54E9 100%);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .tool-header h2 {
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .currency-converter {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .converter-options {
            display: flex;
            gap: 15px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .option-btn {
            padding: 10px 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .dark-mode .option-btn {
            background: #334155;
            border-color: #475569;
            color: #f0f0f0;
        }
        
        .option-btn.active {
            background: #4776E6;
            color: white;
            border-color: #4776E6;
        }
        
        .dark-mode .option-btn.active {
            background: #8E54E9;
            border-color: #8E54E9;
        }
        
        .option-btn:hover {
            background: #e9ecef;
        }
        
        .dark-mode .option-btn:hover {
            background: #475569;
        }
        
        .option-btn.active:hover {
            background: #3b5fc9;
        }
        
        .dark-mode .option-btn.active:hover {
            background: #7c3aed;
        }
        
        .converter-form {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 15px;
            align-items: end;
        }
        
        @media (max-width: 768px) {
            .converter-form {
                grid-template-columns: 1fr;
            }
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .input-group label {
            font-weight: 600;
            color: #4776E6;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: color 0.3s;
        }
        
        .dark-mode .input-group label {
            color: #8E54E9;
        }
        
        .amount-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1.5rem;
            font-weight: 600;
            outline: none;
            transition: border-color 0.3s, background-color 0.3s, color 0.3s;
            text-align: center;
        }
        
        .dark-mode .amount-input {
            border-color: #475569;
            background-color: #334155;
            color: #f0f0f0;
        }
        
        .amount-input:focus {
            border-color: #4776E6;
        }
        
        .dark-mode .amount-input:focus {
            border-color: #8E54E9;
        }
        
        .currency-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            cursor: pointer;
            transition: border-color 0.3s, background-color 0.3s, color 0.3s;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234775E6'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 16px;
            padding-right: 40px;
            appearance: none;
        }
        
        .dark-mode .currency-select {
            border-color: #475569;
            background-color: #334155;
            color: #f0f0f0;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%238E54E9'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
        }
        
        .currency-select:focus {
            border-color: #4776E6;
        }
        
        .dark-mode .currency-select:focus {
            border-color: #8E54E9;
        }
        
        .swap-button {
            padding: 12px;
            background: #4776E6;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            align-self: center;
            margin-bottom: 8px;
        }
        
        .dark-mode .swap-button {
            background: #8E54E9;
        }
        
        .swap-button:hover {
            background: #3b5fc9;
            transform: rotate(180deg);
        }
        
        .dark-mode .swap-button:hover {
            background: #7c3aed;
        }
        
        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 10px 0;
        }
        
        @media (max-width: 480px) {
            .action-buttons {
                grid-template-columns: 1fr;
            }
        }
        
        .convert-btn {
            padding: 15px;
            background: linear-gradient(90deg, #4776E6 0%, #8E54E9 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .convert-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .reset-btn {
            padding: 15px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .reset-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
            background: #ff5252;
        }
        
        .result-container {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin-top: 10px;
            transition: background-color 0.3s, border-color 0.3s;
        }
        
        .dark-mode .result-container {
            background: #334155;
            border-color: #475569;
        }
        
        .result-container h3 {
            color: #4776E6;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: color 0.3s;
        }
        
        .dark-mode .result-container h3 {
            color: #8E54E9;
        }
        
        .conversion-result {
            text-align: center;
            margin: 20px 0;
        }
        
        .conversion-amount {
            font-size: 2.5rem;
            font-weight: 700;
            color: #4776E6;
            margin-bottom: 10px;
            transition: color 0.3s;
        }
        
        .dark-mode .conversion-amount {
            color: #8E54E9;
        }
        
        .conversion-text {
            font-size: 1.2rem;
            color: #6c757d;
            transition: color 0.3s;
        }
        
        .dark-mode .conversion-text {
            color: #94a3b8;
        }
        
        .rate-info {
            text-align: center;
            padding: 10px;
            background: white;
            border-radius: 8px;
            margin-top: 15px;
            transition: background-color 0.3s;
        }
        
        .dark-mode .rate-info {
            background: #1e293b;
        }
        
        .chart-container {
            height: 200px;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .dark-mode .chart-container {
            background: #1e293b;
        }
        
        .chart-placeholder {
            color: #6c757d;
            text-align: center;
            transition: color 0.3s;
        }
        
        .dark-mode .chart-placeholder {
            color: #94a3b8;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            text-align: center;
            transition: background-color 0.3s, border-color 0.3s;
        }
        
        .dark-mode .stat-item {
            background: #1e293b;
            border-color: #475569;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #4776E6;
            margin-bottom: 5px;
            transition: color 0.3s;
        }
        
        .dark-mode .stat-value {
            color: #8E54E9;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
            transition: color 0.3s;
        }
        
        .dark-mode .stat-label {
            color: #94a3b8;
        }
        
        .popular-currencies {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .currency-card {
            display: flex;
            align-items: center;
            padding: 15px;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            transition: background-color 0.3s, border-color 0.3s;
            cursor: pointer;
        }
        
        .dark-mode .currency-card {
            background: #1e293b;
            border-color: #475569;
        }
        
        .currency-card:hover {
            border-color: #4776E6;
            transform: translateY(-2px);
        }
        
        .dark-mode .currency-card:hover {
            border-color: #8E54E9;
        }
        
        .currency-flag {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .currency-details {
            flex: 1;
        }
        
        .currency-name {
            font-weight: 600;
            color: #4776E6;
            transition: color 0.3s;
        }
        
        .dark-mode .currency-name {
            color: #8E54E9;
        }
        
        .currency-value {
            font-size: 1.2rem;
            font-weight: 700;
        }
        
        .error-message {
            padding: 12px;
            background: #fff5f5;
            border: 2px solid #ff6b6b;
            border-radius: 8px;
            color: #c92a2a;
            margin-top: 10px;
            display: none;
            transition: background-color 0.3s, border-color 0.3s, color 0.3s;
        }
        
        .dark-mode .error-message {
            background: #2b1d1d;
            border-color: #ff6b6b;
            color: #ffa8a8;
        }
        
        .error-message.visible {
            display: block;
        }
        
        .instructions {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 20px;
            margin-bottom: 30px;
            transition: background-color 0.3s;
        }
        
        .dark-mode .instructions {
            background-color: #1e293b;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }
        
        .instructions h3 {
            color: #4776E6;
            margin-bottom: 15px;
            font-size: 1.5rem;
            transition: color 0.3s;
        }
        
        .dark-mode .instructions h3 {
            color: #8E54E9;
        }
        
        .instructions ul {
            list-style-type: none;
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }
        
        .instructions li:before {
            content: "•";
            color: #4776E6;
            font-weight: bold;
            position: absolute;
            left: 0;
            transition: color 0.3s;
        }
        
        .dark-mode .instructions li:before {
            color: #8E54E9;
        }
        
        footer {
            text-align: center;
            color: white;
            margin-top: auto;
            padding: 20px;
            opacity: 0.8;
        }
        
        .dark-mode footer {
            color: #cbd5e1;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 20px;
            background: #4caf50;
            color: white;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 1000;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
        }
        
        .toast.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4776E6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        .dark-mode .loading-spinner {
            border: 4px solid #334155;
            border-top: 4px solid #8E54E9;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .converter-options {
                justify-content: center;
            }
            
            .stats, .popular-currencies {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-container">
            <a href="index.html" class="back-button">
                <i class="fas fa-arrow-left"></i> Back to Tools
            </a>
            <button class="dark-mode-toggle" id="darkModeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
        
        <header>
            <h1>Currency Converter</h1>
            <p>Convert between different currencies with real-time exchange rates</p>
        </header>
        
        <div class="tool-container">
            <div class="tool-header">
                <h2><i class="fas fa-exchange-alt"></i> Currency Converter</h2>
                <div class="tool-actions">
                    <i class="fas fa-expand"></i>
                </div>
            </div>
            
            <div class="currency-converter">
                <div class="loading" id="loadingIndicator">
                    <div class="loading-spinner"></div>
                    <p>Fetching exchange rates...</p>
                </div>
                
                <div class="converter-options">
                    <button class="option-btn active" data-option="convert">
                        <i class="fas fa-sync-alt"></i> Convert
                    </button>
                    <button class="option-btn" data-option="historical">
                        <i class="fas fa-chart-line"></i> Historical Rates
                    </button>
                    <button class="option-btn" data-option="favorites">
                        <i class="fas fa-star"></i> Favorites
                    </button>
                </div>
                
                <div class="converter-form">
                    <div class="input-group">
                        <label for="amountInput">
                            <i class="fas fa-money-bill-wave"></i> Amount
                        </label>
                        <input type="number" id="amountInput" class="amount-input" placeholder="100" value="100" min="0" step="0.01">
                    </div>
                    
                    <button class="swap-button" id="swapButton">
                        <i class="fas fa-exchange-alt"></i>
                    </button>
                    
                    <div class="input-group">
                        <label for="fromCurrency">
                            <i class="fas fa-arrow-up"></i> From
                        </label>
                        <select id="fromCurrency" class="currency-select">
                            <option value="USD">USD - US Dollar</option>
                            <option value="EUR">EUR - Euro</option>
                            <option value="GBP">GBP - British Pound</option>
                            <option value="JPY">JPY - Japanese Yen</option>
                            <option value="CAD">CAD - Canadian Dollar</option>
                            <option value="AUD">AUD - Australian Dollar</option>
                            <option value="BDT" selected>BDT - Bangladeshi Taka</option>
                            <option value="INR">INR - Indian Rupee</option>
                            <option value="PKR">PKR - Pakistani Rupee</option>
                            <option value="LKR">LKR - Sri Lankan Rupee</option>
                            <option value="NPR">NPR - Nepalese Rupee</option>
                            <option value="MYR">MYR - Malaysian Ringgit</option>
                            <option value="SGD">SGD - Singapore Dollar</option>
                            <option value="CNY">CNY - Chinese Yuan</option>
                            <option value="AED">AED - UAE Dirham</option>
                            <option value="SAR">SAR - Saudi Riyal</option>
                            <option value="QAR">QAR - Qatari Riyal</option>
                            <option value="KWD">KWD - Kuwaiti Dinar</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="toCurrency">
                            <i class="fas fa-arrow-down"></i> To
                        </label>
                        <select id="toCurrency" class="currency-select">
                            <option value="BDT" selected>BDT - Bangladeshi Taka</option>
                            <option value="USD">USD - US Dollar</option>
                            <option value="EUR">EUR - Euro</option>
                            <option value="GBP">GBP - British Pound</option>
                            <option value="JPY">JPY - Japanese Yen</option>
                            <option value="CAD">CAD - Canadian Dollar</option>
                            <option value="AUD">AUD - Australian Dollar</option>
                            <option value="INR">INR - Indian Rupee</option>
                            <option value="PKR">PKR - Pakistani Rupee</option>
                            <option value="LKR">LKR - Sri Lankan Rupee</option>
                            <option value="NPR">NPR - Nepalese Rupee</option>
                            <option value="MYR">MYR - Malaysian Ringgit</option>
                            <option value="SGD">SGD - Singapore Dollar</option>
                            <option value="CNY">CNY - Chinese Yuan</option>
                            <option value="AED">AED - UAE Dirham</option>
                            <option value="SAR">SAR - Saudi Riyal</option>
                            <option value="QAR">QAR - Qatari Riyal</option>
                            <option value="KWD">KWD - Kuwaiti Dinar</option>
                        </select>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="convert-btn" id="convertBtn">
                        <i class="fas fa-calculator"></i> Convert
                    </button>
                    <button class="reset-btn" id="resetBtn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
                
                <div class="result-container" id="resultContainer">
                    <h3>
                        <i class="fas fa-check-circle"></i> Conversion Result
                    </h3>
                    
                    <div class="conversion-result">
                        <div class="conversion-amount" id="conversionAmount">0.00</div>
                        <div class="conversion-text" id="conversionText">100 BDT = 0.00 USD</div>
                    </div>
                    
                    <div class="rate-info" id="rateInfo">
                        Exchange Rate: 1 BDT = 0.00 USD
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-line" style="font-size: 2rem; margin-bottom: 10px;"></i>
                            <p>Chart would show historical trends here</p>
                        </div>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-value" id="lastUpdated">Today</div>
                            <div class="stat-label">Last Updated</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="rateChange">+0.0%</div>
                            <div class="stat-label">24h Change</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="popularity">#1</div>
                            <div class="stat-label">Popularity</div>
                        </div>
                    </div>
                    
                    <h3 style="margin-top: 20px;">
                        <i class="fas fa-star"></i> Popular Conversions with BDT
                    </h3>
                    
                    <div class="popular-currencies" id="popularCurrencies">
                        <!-- Popular currencies will be added here -->
                    </div>
                </div>
                
                <div class="error-message" id="errorMessage">
                    <strong><i class="fas fa-exclamation-circle"></i> Error:</strong>
                    <span id="errorText"></span>
                </div>
            </div>
        </div>
        
        <div class="instructions">
            <h3>How to Use the Currency Converter</h3>
            <ul>
                <li>Enter the amount you want to convert in the input field</li>
                <li>Select the currency you want to convert from</li>
                <li>Select the currency you want to convert to</li>
                <li>Click "Convert" to see the conversion result</li>
                <li>Use the swap button to quickly switch between currencies</li>
                <li>View historical trends and popular conversions</li>
                <li>Use the "Reset" button to clear all inputs</li>
                <li>Toggle between dark and light mode using the moon/sun button</li>
            </ul>
            
            <h3>Bangladeshi Taka (BDT) Information</h3>
            <ul>
                <li>Currency code: BDT</li>
                <li>Currency symbol: ৳</li>
                <li>Central bank: Bangladesh Bank</li>
                <li>Commonly used in: Bangladesh</li>
                <li>Subunit: Poisha (1 Taka = 100 Poisha)</li>
            </ul>
            
            <h3>Popular Currency Pairs with BDT</h3>
            <ul>
                <li><strong>BDT/USD</strong>: Bangladeshi Taka to US Dollar</li>
                <li><strong>BDT/EUR</strong>: Bangladeshi Taka to Euro</li>
                <li><strong>BDT/GBP</strong>: Bangladeshi Taka to British Pound</li>
                <li><strong>BDT/INR</strong>: Bangladeshi Taka to Indian Rupee</li>
                <li><strong>BDT/AED</strong>: Bangladeshi Taka to UAE Dirham</li>
                <li><strong>BDT/SAR</strong>: Bangladeshi Taka to Saudi Riyal</li>
                <li><strong>BDT/MYR</strong>: Bangladeshi Taka to Malaysian Ringgit</li>
                <li><strong>BDT/SGD</strong>: Bangladeshi Taka to Singapore Dollar</li>
            </ul>
        </div>
    </div>
    
    <footer>
        <p>© 2023 Wander Tools | All Rights Reserved</p>
    </footer>

    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">Conversion completed!</span>
    </div>

    <script>
        // API Key and configuration
        const API_KEY = '8f4b8bdbbac9cd3d212026f7a292d203';
        const BASE_URL = 'https://api.exchangerate.host';
        
        // DOM Elements
        const amountInput = document.getElementById('amountInput');
        const fromCurrency = document.getElementById('fromCurrency');
        const toCurrency = document.getElementById('toCurrency');
        const swapButton = document.getElementById('swapButton');
        const convertBtn = document.getElementById('convertBtn');
        const resetBtn = document.getElementById('resetBtn');
        const resultContainer = document.getElementById('resultContainer');
        const conversionAmount = document.getElementById('conversionAmount');
        const conversionText = document.getElementById('conversionText');
        const rateInfo = document.getElementById('rateInfo');
        const lastUpdated = document.getElementById('lastUpdated');
        const rateChange = document.getElementById('rateChange');
        const popularity = document.getElementById('popularity');
        const popularCurrencies = document.getElementById('popularCurrencies');
        const errorMessage = document.getElementById('errorMessage');
        const errorText = document.getElementById('errorText');
        const optionBtns = document.querySelectorAll('.option-btn');
        const darkModeToggle = document.getElementById('darkModeToggle');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');
        const loadingIndicator = document.getElementById('loadingIndicator');
        
        // Currency data with flags and names
        const currencyData = {
            USD: { name: "US Dollar", flag: "🇺🇸", popularity: 1 },
            EUR: { name: "Euro", flag: "🇪🇺", popularity: 2 },
            GBP: { name: "British Pound", flag: "🇬🇧", popularity: 3 },
            JPY: { name: "Japanese Yen", flag: "🇯🇵", popularity: 4 },
            CAD: { name: "Canadian Dollar", flag: "🇨🇦", popularity: 5 },
            AUD: { name: "Australian Dollar", flag: "🇦🇺", popularity: 6 },
            BDT: { name: "Bangladeshi Taka", flag: "🇧🇩", popularity: 7 },
            INR: { name: "Indian Rupee", flag: "🇮🇳", popularity: 8 },
            PKR: { name: "Pakistani Rupee", flag: "🇵🇰", popularity: 9 },
            LKR: { name: "Sri Lankan Rupee", flag: "🇱🇰", popularity: 10 },
            NPR: { name: "Nepalese Rupee", flag: "🇳🇵", popularity: 11 },
            MYR: { name: "Malaysian Ringgit", flag: "🇲🇾", popularity: 12 },
            SGD: { name: "Singapore Dollar", flag: "🇸🇬", popularity: 13 },
            CNY: { name: "Chinese Yuan", flag: "🇨🇳", popularity: 14 },
            AED: { name: "UAE Dirham", flag: "🇦🇪", popularity: 15 },
            SAR: { name: "Saudi Riyal", flag: "🇸🇦", popularity: 16 },
            QAR: { name: "Qatari Riyal", flag: "🇶🇦", popularity: 17 },
            KWD: { name: "Kuwaiti Dinar", flag: "🇰🇼", popularity: 18 }
        };
        
        // Initialize the Currency Converter
        function initCurrencyConverter() {
            // Set up event listeners
            convertBtn.addEventListener('click', convertCurrency);
            resetBtn.addEventListener('click', resetConverter);
            swapButton.addEventListener('click', swapCurrencies);
            darkModeToggle.addEventListener('click', toggleDarkMode);
            
            // Option buttons
            optionBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    optionBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    showToast(`${btn.textContent.trim()} view activated`);
                });
            });
            
            // Check for saved dark mode preference
            if (localStorage.getItem('darkMode') === 'enabled') {
                document.body.classList.add('dark-mode');
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
            
            // Load popular currencies
            renderPopularCurrencies();
            
            // Set last updated date
            lastUpdated.textContent = new Date().toLocaleDateString();
            
            // Initial conversion
            convertCurrency();
        }
        
        // Fetch exchange rates from API
        async function fetchExchangeRate(from, to) {
            try {
                showLoading();
                
                const response = await fetch(`${BASE_URL}/convert?access_key=${API_KEY}&from=${from}&to=${to}&amount=1`);
                
                if (!response.ok) {
                    throw new Error(`API request failed with status ${response.status}`);
                }
                
                const data = await response.json();
                
                if (!data.success) {
                    throw new Error(data.error.info || 'Failed to fetch exchange rate');
                }
                
                hideLoading();
                return data.result;
            } catch (error) {
                hideLoading();
                console.error('Error fetching exchange rate:', error);
                showError('Failed to fetch exchange rate. Please try again later.');
                return null;
            }
        }
        
        // Fetch latest rates for multiple currencies
        async function fetchLatestRates(base = 'BDT') {
            try {
                showLoading();
                
                // Get all currency codes except the base
                const symbols = Object.keys(currencyData)
                    .filter(code => code !== base)
                    .join(',');
                
                const response = await fetch(`${BASE_URL}/latest?access_key=${API_KEY}&base=${base}&symbols=${symbols}`);
                
                if (!response.ok) {
                    throw new Error(`API request failed with status ${response.status}`);
                }
                
                const data = await response.json();
                
                if (!data.success) {
                    throw new Error(data.error.info || 'Failed to fetch exchange rates');
                }
                
                hideLoading();
                return data.rates;
            } catch (error) {
                hideLoading();
                console.error('Error fetching latest rates:', error);
                showError('Failed to fetch exchange rates. Please try again later.');
                return null;
            }
        }
        
        // Toggle dark mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            
            if (document.body.classList.contains('dark-mode')) {
                localStorage.setItem('darkMode', 'enabled');
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                localStorage.setItem('darkMode', 'disabled');
                darkModeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        }
        
        // Convert currency
        async function convertCurrency() {
            try {
                hideError();
                
                const amount = parseFloat(amountInput.value);
                const from = fromCurrency.value;
                const to = toCurrency.value;
                
                if (isNaN(amount) || amount <= 0) {
                    showError('Please enter a valid amount');
                    return;
                }
                
                // Get exchange rate from API
                const rate = await fetchExchangeRate(from, to);
                
                if (rate === null) {
                    return; // Error already handled
                }
                
                // Calculate conversion
                const result = amount * rate;
                
                // Update UI
                conversionAmount.textContent = result.toFixed(2);
                conversionText.textContent = `${amount} ${from} = ${result.toFixed(2)} ${to}`;
                rateInfo.textContent = `Exchange Rate: 1 ${from} = ${rate.toFixed(4)} ${to}`;
                
                // Show result container
                resultContainer.style.display = 'block';
                
                // Show success message
                showToast('Conversion completed!');
                
            } catch (error) {
                showError('Error converting currency: ' + error.message);
            }
        }
        
        // Swap currencies
        function swapCurrencies() {
            const temp = fromCurrency.value;
            fromCurrency.value = toCurrency.value;
            toCurrency.value = temp;
            
            // Convert with new values
            convertCurrency();
            
            // Animation
            swapButton.style.transform = 'rotate(180deg)';
            setTimeout(() => {
                swapButton.style.transform = 'rotate(0deg)';
            }, 300);
        }
        
        // Render popular currencies
        async function renderPopularCurrencies() {
            try {
                popularCurrencies.innerHTML = '';
                
                // Get latest rates for BDT
                const rates = await fetchLatestRates('BDT');
                
                if (rates === null) {
                    return; // Error already handled
                }
                
                // Get popular currencies with BDT (top 6 by popularity)
                const popular = Object.entries(currencyData)
                    .filter(([code]) => code !== 'BDT')
                    .sort((a, b) => a[1].popularity - b[1].popularity)
                    .slice(0, 6);
                
                popular.forEach(([code, data]) => {
                    const rate = rates[code];
                    
                    if (rate) {
                        const currencyElement = document.createElement('div');
                        currencyElement.className = 'currency-card';
                        currencyElement.innerHTML = `
                            <div class="currency-flag">${data.flag}</div>
                            <div class="currency-details">
                                <div class="currency-name">${code} - ${data.name}</div>
                                <div class="currency-value">1 BDT = ${rate.toFixed(4)} ${code}</div>
                            </div>
                        `;
                        
                        // Add click event to set as target currency
                        currencyElement.addEventListener('click', () => {
                            fromCurrency.value = 'BDT';
                            toCurrency.value = code;
                            convertCurrency();
                            showToast(`${data.name} selected`);
                        });
                        
                        popularCurrencies.appendChild(currencyElement);
                    }
                });
            } catch (error) {
                console.error('Error rendering popular currencies:', error);
                showError('Failed to load popular currencies');
            }
        }
        
        // Reset converter
        function resetConverter() {
            amountInput.value = '100';
            fromCurrency.value = 'BDT';
            toCurrency.value = 'USD';
            resultContainer.style.display = 'none';
            hideError();
            renderPopularCurrencies();
        }
        
        // Show loading indicator
        function showLoading() {
            loadingIndicator.style.display = 'block';
            convertBtn.disabled = true;
        }
        
        // Hide loading indicator
        function hideLoading() {
            loadingIndicator.style.display = 'none';
            convertBtn.disabled = false;
        }
        
        // Show error message
        function showError(message) {
            errorText.textContent = message;
            errorMessage.classList.add('visible');
        }
        
        // Hide error message
        function hideError() {
            errorMessage.classList.remove('visible');
        }
        
        // Show toast message
        function showToast(message) {
            toastMessage.textContent = message;
            toast.classList.add('visible');
            
            setTimeout(() => {
                toast.classList.remove('visible');
            }, 3000);
        }
        
        // Initialize the Currency Converter when the page loads
        window.onload = initCurrencyConverter;
    </script>
</body>
</html>
