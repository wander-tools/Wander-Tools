<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="../../favicon.png" sizes="32x32" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Analyzer with Dark/Light Mode</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3a86ff;
            --secondary: #8338ec;
            --accent: #ff006e;
            --text: #212529;
            --bg: #f8f9fa;
            --card-bg: #ffffff;
            --border: #e0e0e0;
            --metric-bg: #f1f3f5;
            --shadow: rgba(0, 0, 0, 0.1);
            --footer-bg: #e9ecef;
            --footer-text: #495057;
            --btn-text: #ffffff;
            --btn-secondary-bg: #e9ecef;
            --btn-secondary-text: #212529;
        }

        .dark-mode {
            --primary: #5a96ff;
            --secondary: #a158f0;
            --accent: #ff4d94;
            --text: #e9ecef;
            --bg: #121212;
            --card-bg: #1e1e1e;
            --border: #2d2d2d;
            --metric-bg: #2a2a2a;
            --shadow: rgba(0, 0, 0, 0.3);
            --footer-bg: #1a1a1a;
            --footer-text: #adb5bd;
            --btn-text: #ffffff;
            --btn-secondary-bg: #2d2d2d;
            --btn-secondary-text: #e9ecef;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        
        body {
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            position: relative;
        }
        
        .theme-switch {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        .theme-toggle {
            background: var(--metric-bg);
            border: 2px solid var(--border);
            border-radius: 30px;
            padding: 8px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            color: var(--text);
        }
        
        .theme-toggle i {
            font-size: 1.2rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .logo i {
            font-size: 2.8rem;
            margin-right: 15px;
        }
        
        .logo h1 {
            font-size: 2.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .description {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            color: var(--text);
            opacity: 0.8;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 10px 25px var(--shadow);
            padding: 30px;
            transition: transform 0.3s ease;
            height: 100%;
            border: 1px solid var(--border);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px var(--shadow);
        }
        
        .card-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary);
            display: flex;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }
        
        .card-title i {
            margin-right: 10px;
            color: var(--secondary);
        }
        
        textarea {
            width: 100%;
            height: 300px;
            padding: 20px;
            border: 2px solid var(--border);
            border-radius: 10px;
            resize: vertical;
            font-size: 1.1rem;
            line-height: 1.6;
            transition: all 0.3s;
            background: var(--metric-bg);
            color: var(--text);
        }
        
        textarea:focus {
            outline: none;
            border-color: var(--primary);
            background: var(--card-bg);
            box-shadow: 0 0 0 3px rgba(58, 134, 255, 0.2);
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 14px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;
        }
        
        .btn-primary {
            background: var(--primary);
            color: var(--btn-text);
        }
        
        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: var(--btn-secondary-bg);
            color: var(--btn-secondary-text);
        }
        
        .btn-secondary:hover {
            background: var(--border);
            transform: translateY(-2px);
        }
        
        .metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .metric {
            text-align: center;
            padding: 20px;
            background: var(--metric-bg);
            border-radius: 10px;
            transition: all 0.3s;
            border: 1px solid var(--border);
        }
        
        .metric:hover {
            transform: translateY(-3px);
        }
        
        .metric-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin: 10px 0;
        }
        
        .metric-label {
            font-size: 1rem;
            color: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.8;
        }
        
        .metric-label i {
            margin-right: 8px;
            color: var(--secondary);
        }
        
        .readability-score {
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            margin-bottom: 25px;
            color: white;
        }
        
        .score-value {
            font-size: 3rem;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .score-label {
            font-size: 1.3rem;
            margin-top: 5px;
            opacity: 0.9;
        }
        
        .word-frequency {
            margin-top: 25px;
        }
        
        .word-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            padding: 15px;
            background: var(--metric-bg);
            border-radius: 10px;
            border: 1px solid var(--border);
        }
        
        .word-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 15px;
            border-bottom: 1px solid var(--border);
            align-items: center;
        }
        
        .word-item:last-child {
            border-bottom: none;
        }
        
        .word-text {
            font-weight: 500;
            color: var(--text);
        }
        
        .word-count {
            background: var(--primary);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .progress-bar {
            height: 10px;
            background: var(--border);
            border-radius: 5px;
            margin-top: 8px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 5px;
        }
        
        footer {
            text-align: center;
            color: var(--footer-text);
            padding: 30px;
            margin-top: 20px;
            border-top: 1px solid var(--border);
            background: var(--footer-bg);
            border-radius: 15px;
        }
        
        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 15px;
        }
        
        .footer-links a {
            color: var(--footer-text);
            text-decoration: none;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }
        
        .footer-links a:hover {
            color: var(--primary);
        }
        
        .footer-links i {
            margin-right: 8px;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 8px;
            color: var(--primary);
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--text);
            color: var(--bg);
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .logo h1 {
                font-size: 2.2rem;
            }
            
            .description {
                font-size: 1rem;
            }
            
            .theme-switch {
                position: static;
                margin-bottom: 20px;
                display: flex;
                justify-content: center;
            }
            
            .metrics {
                grid-template-columns: 1fr;
            }
            
            .buttons {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .logo {
                flex-direction: column;
                text-align: center;
            }
            
            .logo i {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .logo h1 {
                font-size: 1.8rem;
            }
            
            .card-title {
                font-size: 1.3rem;
            }
            
            .metric-value {
                font-size: 2rem;
            }
            
            .score-value {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="theme-switch">
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                    <span>Dark Mode</span>
                </button>
            </div>
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <h1>TextAnalyzer</h1>
            </div>
            <p class="description">
                Analyze any text to calculate readability scores and visualize word frequency patterns. 
                Switch between dark and light mode for comfortable reading.
            </p>
        </header>
        
        <div class="main-content">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-keyboard"></i> Input Text</h2>
                <textarea id="text-input" placeholder="Paste or type your text here...">The quick brown fox jumps over the lazy dog. This is a sample text to demonstrate the readability and word frequency analyzer. You can replace this text with your own content. The tool will calculate various readability scores and show you which words are used most frequently. Readability tests are formulas that evaluate the reading level of a text. Several popular readability formulas include the Flesch Reading Ease, Flesch-Kincaid Grade Level, and Gunning Fog Index. These formulas typically use factors like sentence length and word length to determine how easy or difficult a text is to read.</textarea>
                <div class="buttons">
                    <button id="analyze-btn" class="btn btn-primary"><i class="fas fa-search"></i> Analyze Text</button>
                    <button id="clear-btn" class="btn btn-secondary"><i class="fas fa-trash"></i> Clear</button>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-chart-bar"></i> Analysis Results</h2>
                
                <div class="metrics">
                    <div class="metric">
                        <div class="metric-label"><i class="fas fa-font"></i> Words</div>
                        <div id="word-count" class="metric-value">0</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label"><i class="fas fa-text-width"></i> Characters</div>
                        <div id="char-count" class="metric-value">0</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label"><i class="fas fa-terminal"></i> Sentences</div>
                        <div id="sentence-count" class="metric-value">0</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label"><i class="fas fa-ruler"></i> Avg. Word Length</div>
                        <div id="avg-word-length" class="metric-value">0</div>
                    </div>
                </div>
                
                <div class="readability-score">
                    <div class="score-label">Readability Score</div>
                    <div id="readability-value" class="score-value">0</div>
                    <div id="readability-label" class="score-label">Grade Level</div>
                </div>
                
                <div class="word-frequency">
                    <h3 class="card-title">
                        <i class="fas fa-sort-amount-down"></i> Word Frequency
                        <div class="tooltip">
                            <i class="fas fa-info-circle"></i>
                            <span class="tooltiptext">Shows the most frequently used words in your text</span>
                        </div>
                    </h3>
                    <div id="word-list" class="word-list">
                        <!-- Word frequency list will be generated here -->
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <div class="footer-content">
                <p>Â© 2023 TextAnalyzer Tool. All rights reserved.</p>
                <div class="footer-links">
                    <a href="#"><i class="fas fa-question-circle"></i> Help</a>
                    <a href="#"><i class="fas fa-shield-alt"></i> Privacy</a>
                    <a href="#"><i class="fas fa-file-alt"></i> Terms</a>
                    <a href="#"><i class="fas fa-envelope"></i> Contact</a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const textInput = document.getElementById('text-input');
            const analyzeBtn = document.getElementById('analyze-btn');
            const clearBtn = document.getElementById('clear-btn');
            const themeToggle = document.getElementById('theme-toggle');
            
            const wordCountEl = document.getElementById('word-count');
            const charCountEl = document.getElementById('char-count');
            const sentenceCountEl = document.getElementById('sentence-count');
            const avgWordLengthEl = document.getElementById('avg-word-length');
            const readabilityValueEl = document.getElementById('readability-value');
            const readabilityLabelEl = document.getElementById('readability-label');
            const wordListEl = document.getElementById('word-list');
            
            // Check for saved theme preference or respect OS preference
            const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
            const currentTheme = localStorage.getItem('theme');
            
            if (currentTheme === 'dark' || (!currentTheme && prefersDarkScheme.matches)) {
                document.body.classList.add('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i><span>Light Mode</span>';
            } else {
                document.body.classList.remove('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i><span>Dark Mode</span>';
            }
            
            // Theme toggle functionality
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                let theme = 'light';
                
                if (document.body.classList.contains('dark-mode')) {
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i><span>Light Mode</span>';
                    theme = 'dark';
                } else {
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i><span>Dark Mode</span>';
                }
                
                localStorage.setItem('theme', theme);
            });
            
            // Analyze text on button click
            analyzeBtn.addEventListener('click', analyzeText);
            
            // Clear text on button click
            clearBtn.addEventListener('click', function() {
                textInput.value = '';
                resetResults();
            });
            
            // Analyze the text
            function analyzeText() {
                const text = textInput.value.trim();
                
                if (text === '') {
                    alert('Please enter some text to analyze.');
                    return;
                }
                
                // Calculate basic metrics
                const wordCount = countWords(text);
                const charCount = countCharacters(text);
                const sentenceCount = countSentences(text);
                const avgWordLength = calculateAverageWordLength(text);
                const readabilityScore = calculateReadability(text);
                
                // Update DOM with basic metrics
                wordCountEl.textContent = wordCount;
                charCountEl.textContent = charCount;
                sentenceCountEl.textContent = sentenceCount;
                avgWordLengthEl.textContent = avgWordLength.toFixed(1);
                
                // Update readability score
                readabilityValueEl.textContent = readabilityScore.toFixed(1);
                readabilityLabelEl.textContent = getReadabilityLabel(readabilityScore);
                
                // Calculate and display word frequency
                displayWordFrequency(text);
            }
            
            // Count words in text
            function countWords(text) {
                const words = text.match(/\b\w+\b/g);
                return words ? words.length : 0;
            }
            
            // Count characters in text (including spaces)
            function countCharacters(text) {
                return text.length;
            }
            
            // Count sentences in text
            function countSentences(text) {
                // Simple sentence segmentation by . ! ? followed by space or end of string
                const sentences = text.match(/[^.!?]+[.!?]+(\s|$)/g);
                return sentences ? sentences.length : 1;
            }
            
            // Calculate average word length
            function calculateAverageWordLength(text) {
                const words = text.match(/\b\w+\b/g);
                if (!words || words.length === 0) return 0;
                
                const totalLength = words.reduce((total, word) => total + word.length, 0);
                return totalLength / words.length;
            }
            
            // Calculate readability using Flesch-Kincaid Grade Level
            function calculateReadability(text) {
                const words = text.match(/\b\w+\b/g) || [];
                const sentences = text.match(/[^.!?]+[.!?]+(\s|$)/g) || [text];
                const syllables = countSyllables(text);
                
                if (words.length === 0 || sentences.length === 0) return 0;
                
                // Flesch-Kincaid Grade Level formula
                const grade = 0.39 * (words.length / sentences.length) + 
                              11.8 * (syllables / words.length) - 15.59;
                
                return Math.max(grade, 0);
            }
            
            // Count syllables in text (approximation)
            function countSyllables(text) {
                const words = text.toLowerCase().match(/\b\w+\b/g) || [];
                let syllableCount = 0;
                
                for (const word of words) {
                    // Simple syllable counting rules
                    let count = 0;
                    let prevIsVowel = false;
                    
                    for (let i = 0; i < word.length; i++) {
                        const isVowel = /[aeiouy]/.test(word[i]);
                        if (isVowel && !prevIsVowel) {
                            count++;
                        }
                        prevIsVowel = isVowel;
                    }
                    
                    // Adjust for words ending with "e"
                    if (word.endsWith('e') && count > 1) {
                        count--;
                    }
                    
                    // At least one syllable per word
                    syllableCount += Math.max(count, 1);
                }
                
                return syllableCount;
            }
            
            // Get readability label based on score
            function getReadabilityLabel(score) {
                if (score <= 6) return 'Easy to read';
                if (score <= 12) return 'Moderate difficulty';
                return 'Difficult to read';
            }
            
            // Display word frequency list
            function displayWordFrequency(text) {
                const words = text.toLowerCase().match(/\b\w+\b/g) || [];
                const frequency = {};
                
                // Count word frequency
                words.forEach(word => {
                    frequency[word] = (frequency[word] || 0) + 1;
                });
                
                // Convert to array and sort by frequency
                const sortedWords = Object.keys(frequency).sort((a, b) => frequency[b] - frequency[a]);
                
                // Clear previous results
                wordListEl.innerHTML = '';
                
                // Display top 20 words
                const topWords = sortedWords.slice(0, 20);
                const maxFrequency = frequency[topWords[0]];
                
                topWords.forEach(word => {
                    const count = frequency[word];
                    const percentage = (count / maxFrequency) * 100;
                    
                    const wordItem = document.createElement('div');
                    wordItem.className = 'word-item';
                    wordItem.innerHTML = `
                        <div class="word-text">${word}</div>
                        <div class="word-count">${count}</div>
                    `;
                    
                    const progressBar = document.createElement('div');
                    progressBar.className = 'progress-bar';
                    
                    const progress = document.createElement('div');
                    progress.className = 'progress';
                    progress.style.width = `${percentage}%`;
                    
                    progressBar.appendChild(progress);
                    wordItem.appendChild(progressBar);
                    
                    wordListEl.appendChild(wordItem);
                });
            }
            
            // Reset results to zero
            function resetResults() {
                wordCountEl.textContent = '0';
                charCountEl.textContent = '0';
                sentenceCountEl.textContent = '0';
                avgWordLengthEl.textContent = '0';
                readabilityValueEl.textContent = '0';
                readabilityLabelEl.textContent = 'Grade Level';
                wordListEl.innerHTML = '';
            }
            
            // Analyze the sample text on page load
            analyzeText();
        });
    </script>
</body>
</html>
